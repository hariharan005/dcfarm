{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\adminRoutes.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\nconst {\n  login,\n  logout,\n  check,\n  getOrders,\n  getCustomers,\n  getProfile,\n  updateProfile,\n  updatePassword,\n  assignDelivery\n} = require(\"../controllers/adminController\");\nconst router = express.Router();\n\n// Auth\nrouter.post(\"/login\", login);\nrouter.post(\"/logout\", logout);\nrouter.get(\"/check\", check);\n\n// Orders & Customers\nrouter.get(\"/orders\", getOrders);\nrouter.post(\"/orders/assign-delivery\", assignDelivery);\nrouter.get(\"/customers\", getCustomers);\n\n// Profile\nrouter.get(\"/profile\", getProfile);\nrouter.put(\"/profile\", updateProfile);\nrouter.put(\"/password\", updatePassword);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImxvZ2luIiwibG9nb3V0IiwiY2hlY2siLCJnZXRPcmRlcnMiLCJnZXRDdXN0b21lcnMiLCJnZXRQcm9maWxlIiwidXBkYXRlUHJvZmlsZSIsInVwZGF0ZVBhc3N3b3JkIiwiYXNzaWduRGVsaXZlcnkiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiZ2V0IiwicHV0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxhcmNoYVxcTXVzaWNcXERldmVsb3BlbW50XFxkY2Zhcm1cXGJhY2tlbmRcXHJvdXRlc1xcIiwic291cmNlcyI6WyJhZG1pblJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IHtcclxuICBsb2dpbixcclxuICBsb2dvdXQsXHJcbiAgY2hlY2ssXHJcbiAgZ2V0T3JkZXJzLFxyXG4gIGdldEN1c3RvbWVycyxcclxuICBnZXRQcm9maWxlLFxyXG4gIHVwZGF0ZVByb2ZpbGUsXHJcbiAgdXBkYXRlUGFzc3dvcmQsXHJcbiAgYXNzaWduRGVsaXZlcnksXHJcbn0gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvYWRtaW5Db250cm9sbGVyXCIpO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbi8vIEF1dGhcclxucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgbG9naW4pO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dvdXRcIiwgbG9nb3V0KTtcclxucm91dGVyLmdldChcIi9jaGVja1wiLCBjaGVjayk7XHJcblxyXG4vLyBPcmRlcnMgJiBDdXN0b21lcnNcclxucm91dGVyLmdldChcIi9vcmRlcnNcIiwgZ2V0T3JkZXJzKTtcclxucm91dGVyLnBvc3QoXCIvb3JkZXJzL2Fzc2lnbi1kZWxpdmVyeVwiLCBhc3NpZ25EZWxpdmVyeSk7XHJcbnJvdXRlci5nZXQoXCIvY3VzdG9tZXJzXCIsIGdldEN1c3RvbWVycyk7XHJcblxyXG4vLyBQcm9maWxlXHJcbnJvdXRlci5nZXQoXCIvcHJvZmlsZVwiLCBnZXRQcm9maWxlKTtcclxucm91dGVyLnB1dChcIi9wcm9maWxlXCIsIHVwZGF0ZVByb2ZpbGUpO1xyXG5yb3V0ZXIucHV0KFwiL3Bhc3N3b3JkXCIsIHVwZGF0ZVBhc3N3b3JkKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTTtFQUNKQyxLQUFLO0VBQ0xDLE1BQU07RUFDTkMsS0FBSztFQUNMQyxTQUFTO0VBQ1RDLFlBQVk7RUFDWkMsVUFBVTtFQUNWQyxhQUFhO0VBQ2JDLGNBQWM7RUFDZEM7QUFDRixDQUFDLEdBQUdULE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQztBQUU3QyxNQUFNVSxNQUFNLEdBQUdYLE9BQU8sQ0FBQ1ksTUFBTSxDQUFDLENBQUM7O0FBRS9CO0FBQ0FELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBRVgsS0FBSyxDQUFDO0FBQzVCUyxNQUFNLENBQUNFLElBQUksQ0FBQyxTQUFTLEVBQUVWLE1BQU0sQ0FBQztBQUM5QlEsTUFBTSxDQUFDRyxHQUFHLENBQUMsUUFBUSxFQUFFVixLQUFLLENBQUM7O0FBRTNCO0FBQ0FPLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLFNBQVMsRUFBRVQsU0FBUyxDQUFDO0FBQ2hDTSxNQUFNLENBQUNFLElBQUksQ0FBQyx5QkFBeUIsRUFBRUgsY0FBYyxDQUFDO0FBQ3REQyxNQUFNLENBQUNHLEdBQUcsQ0FBQyxZQUFZLEVBQUVSLFlBQVksQ0FBQzs7QUFFdEM7QUFDQUssTUFBTSxDQUFDRyxHQUFHLENBQUMsVUFBVSxFQUFFUCxVQUFVLENBQUM7QUFDbENJLE1BQU0sQ0FBQ0ksR0FBRyxDQUFDLFVBQVUsRUFBRVAsYUFBYSxDQUFDO0FBQ3JDRyxNQUFNLENBQUNJLEdBQUcsQ0FBQyxXQUFXLEVBQUVOLGNBQWMsQ0FBQztBQUV2Q08sTUFBTSxDQUFDQyxPQUFPLEdBQUdOLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","require","login","logout","check","getOrders","getCustomers","getProfile","updateProfile","updatePassword","assignDelivery","router","Router","post","get","put","module","exports"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\routes\\","sources":["adminRoutes.js"],"sourcesContent":["const express = require(\"express\");\r\nconst {\r\n  login,\r\n  logout,\r\n  check,\r\n  getOrders,\r\n  getCustomers,\r\n  getProfile,\r\n  updateProfile,\r\n  updatePassword,\r\n  assignDelivery,\r\n} = require(\"../controllers/adminController\");\r\n\r\nconst router = express.Router();\r\n\r\n// Auth\r\nrouter.post(\"/login\", login);\r\nrouter.post(\"/logout\", logout);\r\nrouter.get(\"/check\", check);\r\n\r\n// Orders & Customers\r\nrouter.get(\"/orders\", getOrders);\r\nrouter.post(\"/orders/assign-delivery\", assignDelivery);\r\nrouter.get(\"/customers\", getCustomers);\r\n\r\n// Profile\r\nrouter.get(\"/profile\", getProfile);\r\nrouter.put(\"/profile\", updateProfile);\r\nrouter.put(\"/password\", updatePassword);\r\n\r\nmodule.exports = router;"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EACJC,KAAK;EACLC,MAAM;EACNC,KAAK;EACLC,SAAS;EACTC,YAAY;EACZC,UAAU;EACVC,aAAa;EACbC,cAAc;EACdC;AACF,CAAC,GAAGT,OAAO,CAAC,gCAAgC,CAAC;AAE7C,MAAMU,MAAM,GAAGX,OAAO,CAACY,MAAM,CAAC,CAAC;;AAE/B;AACAD,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEX,KAAK,CAAC;AAC5BS,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEV,MAAM,CAAC;AAC9BQ,MAAM,CAACG,GAAG,CAAC,QAAQ,EAAEV,KAAK,CAAC;;AAE3B;AACAO,MAAM,CAACG,GAAG,CAAC,SAAS,EAAET,SAAS,CAAC;AAChCM,MAAM,CAACE,IAAI,CAAC,yBAAyB,EAAEH,cAAc,CAAC;AACtDC,MAAM,CAACG,GAAG,CAAC,YAAY,EAAER,YAAY,CAAC;;AAEtC;AACAK,MAAM,CAACG,GAAG,CAAC,UAAU,EAAEP,UAAU,CAAC;AAClCI,MAAM,CAACI,GAAG,CAAC,UAAU,EAAEP,aAAa,CAAC;AACrCG,MAAM,CAACI,GAAG,CAAC,WAAW,EAAEN,cAAc,CAAC;AAEvCO,MAAM,CAACC,OAAO,GAAGN,MAAM","ignoreList":[]}},"mtime":1757509730950},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\controllers\\\\adminController.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\nconst Order = require(\"../models/Orders\");\n\n// 🟢 Auth: login\nexports.login = (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n  if (username === process.env.ADMIN_USER && password === process.env.ADMIN_PASS) {\n    req.session.admin = true;\n    return res.json({\n      success: true\n    });\n  }\n  res.status(401).json({\n    success: false,\n    message: \"Invalid credentials\"\n  });\n};\n\n// 🟢 Auth: logout\nexports.logout = (req, res) => {\n  req.session.destroy();\n  res.json({\n    success: true,\n    message: \"Logged out\"\n  });\n};\n\n// 🟢 Auth: check session\nexports.check = (req, res) => {\n  res.json({\n    loggedIn: !!req.session.admin\n  });\n};\n\n// 🟢 Get all orders from MongoDB\nexports.getOrders = async (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const orders = await Order.find().sort({\n      date: -1\n    }); // latest first\n    res.json(orders);\n  } catch (err) {\n    console.error(\"Error fetching orders from MongoDB:\", err);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch orders\"\n    });\n  }\n};\n\n// 🟢 Get customers\nexports.getCustomers = (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const orders = readJSON(ordersFile);\n    const customers = orders.map(order => ({\n      name: order.customerName,\n      email: order.customerEmail,\n      phone: order.customerPhone,\n      address: order.customerAddress\n    }));\n    res.json(customers);\n  } catch (err) {\n    console.error(\"❌ Error reading customers:\", err);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to load customers\"\n    });\n  }\n};\n\n// 🟢 Get profile\nexports.getProfile = (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const admin = readJSON(adminFile);\n    const {\n      password,\n      ...safe\n    } = admin;\n    res.json(safe);\n  } catch (e) {\n    console.error(e);\n    res.status(500).json({\n      error: \"Failed to read admin data\"\n    });\n  }\n};\n\n// 🟢 Update profile\nexports.updateProfile = (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const incoming = req.body || {};\n    const admin = readJSON(adminFile);\n    const allowed = [\"name\", \"email\", \"phone\", \"address\", \"profilePic\", \"role\"];\n    allowed.forEach(k => {\n      if (k in incoming) admin[k] = incoming[k];\n    });\n    writeJSON(adminFile, admin);\n    const {\n      password,\n      ...safe\n    } = admin;\n    res.json({\n      success: true,\n      admin: safe\n    });\n  } catch (e) {\n    console.error(e);\n    res.status(500).json({\n      error: \"Failed to update admin data\"\n    });\n  }\n};\n\n// 🟢 Update password\nexports.updatePassword = (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const {\n      current,\n      newPass\n    } = req.body || {};\n    if (!current || !newPass) return res.status(400).json({\n      error: \"current and newPass required\"\n    });\n    const admin = readJSON(adminFile);\n    if (admin.password !== current) return res.status(400).json({\n      error: \"Current password incorrect\"\n    });\n    admin.password = newPass;\n    writeJSON(adminFile, admin);\n    res.json({\n      success: true,\n      message: \"Password updated\"\n    });\n  } catch (e) {\n    console.error(e);\n    res.status(500).json({\n      error: \"Failed to update password\"\n    });\n  }\n};\n\n// 🟢 Assign delivery\nexports.assignDelivery = async (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const {\n      orderId\n    } = req.body;\n    if (!orderId) return res.status(400).json({\n      success: false,\n      message: \"orderId required\"\n    });\n    const order = await Order.findById(orderId);\n    if (!order) return res.status(404).json({\n      success: false,\n      message: \"Order not found\"\n    });\n\n    // Update status\n    order.paymentStatus = \"shipped\"; // or \"delivery\" as per your workflow\n    await order.save();\n    return res.json({\n      success: true,\n      message: `Order #${orderId} assigned to delivery`,\n      order\n    });\n  } catch (err) {\n    console.error(\"assignDelivery error:\", err);\n    return res.status(500).json({\n      success: false,\n      message: \"Failed to assign delivery\"\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPcmRlciIsInJlcXVpcmUiLCJleHBvcnRzIiwibG9naW4iLCJyZXEiLCJyZXMiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYm9keSIsInByb2Nlc3MiLCJlbnYiLCJBRE1JTl9VU0VSIiwiQURNSU5fUEFTUyIsInNlc3Npb24iLCJhZG1pbiIsImpzb24iLCJzdWNjZXNzIiwic3RhdHVzIiwibWVzc2FnZSIsImxvZ291dCIsImRlc3Ryb3kiLCJjaGVjayIsImxvZ2dlZEluIiwiZ2V0T3JkZXJzIiwib3JkZXJzIiwiZmluZCIsInNvcnQiLCJkYXRlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZ2V0Q3VzdG9tZXJzIiwicmVhZEpTT04iLCJvcmRlcnNGaWxlIiwiY3VzdG9tZXJzIiwibWFwIiwib3JkZXIiLCJuYW1lIiwiY3VzdG9tZXJOYW1lIiwiZW1haWwiLCJjdXN0b21lckVtYWlsIiwicGhvbmUiLCJjdXN0b21lclBob25lIiwiYWRkcmVzcyIsImN1c3RvbWVyQWRkcmVzcyIsImdldFByb2ZpbGUiLCJhZG1pbkZpbGUiLCJzYWZlIiwiZSIsInVwZGF0ZVByb2ZpbGUiLCJpbmNvbWluZyIsImFsbG93ZWQiLCJmb3JFYWNoIiwiayIsIndyaXRlSlNPTiIsInVwZGF0ZVBhc3N3b3JkIiwiY3VycmVudCIsIm5ld1Bhc3MiLCJhc3NpZ25EZWxpdmVyeSIsIm9yZGVySWQiLCJmaW5kQnlJZCIsInBheW1lbnRTdGF0dXMiLCJzYXZlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGFyY2hhXFxNdXNpY1xcRGV2ZWxvcGVtbnRcXGRjZmFybVxcYmFja2VuZFxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiYWRtaW5Db250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IE9yZGVyID0gcmVxdWlyZShcIi4uL21vZGVscy9PcmRlcnNcIik7XHJcblxyXG4vLyDwn5+iIEF1dGg6IGxvZ2luXHJcbmV4cG9ydHMubG9naW4gPSAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgaWYgKHVzZXJuYW1lID09PSBwcm9jZXNzLmVudi5BRE1JTl9VU0VSICYmIHBhc3N3b3JkID09PSBwcm9jZXNzLmVudi5BRE1JTl9QQVNTKSB7XHJcbiAgICByZXEuc2Vzc2lvbi5hZG1pbiA9IHRydWU7XHJcbiAgICByZXR1cm4gcmVzLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gIH1cclxuICByZXMuc3RhdHVzKDQwMSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkludmFsaWQgY3JlZGVudGlhbHNcIiB9KTtcclxufTtcclxuXHJcbi8vIPCfn6IgQXV0aDogbG9nb3V0XHJcbmV4cG9ydHMubG9nb3V0ID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVxLnNlc3Npb24uZGVzdHJveSgpO1xyXG4gIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJMb2dnZWQgb3V0XCIgfSk7XHJcbn07XHJcblxyXG4vLyDwn5+iIEF1dGg6IGNoZWNrIHNlc3Npb25cclxuZXhwb3J0cy5jaGVjayA9IChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5qc29uKHsgbG9nZ2VkSW46ICEhcmVxLnNlc3Npb24uYWRtaW4gfSk7XHJcbn07XHJcblxyXG4vLyDwn5+iIEdldCBhbGwgb3JkZXJzIGZyb20gTW9uZ29EQlxyXG5leHBvcnRzLmdldE9yZGVycyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGlmICghcmVxLnNlc3Npb24uYWRtaW4pXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoKS5zb3J0KHsgZGF0ZTogLTEgfSk7IC8vIGxhdGVzdCBmaXJzdFxyXG4gICAgcmVzLmpzb24ob3JkZXJzKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBvcmRlcnMgZnJvbSBNb25nb0RCOlwiLCBlcnIpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJGYWlsZWQgdG8gZmV0Y2ggb3JkZXJzXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g8J+foiBHZXQgY3VzdG9tZXJzXHJcbmV4cG9ydHMuZ2V0Q3VzdG9tZXJzID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgaWYgKCFyZXEuc2Vzc2lvbi5hZG1pbilcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBvcmRlcnMgPSByZWFkSlNPTihvcmRlcnNGaWxlKTtcclxuICAgIGNvbnN0IGN1c3RvbWVycyA9IG9yZGVycy5tYXAob3JkZXIgPT4gKHtcclxuICAgICAgbmFtZTogb3JkZXIuY3VzdG9tZXJOYW1lLFxyXG4gICAgICBlbWFpbDogb3JkZXIuY3VzdG9tZXJFbWFpbCxcclxuICAgICAgcGhvbmU6IG9yZGVyLmN1c3RvbWVyUGhvbmUsXHJcbiAgICAgIGFkZHJlc3M6IG9yZGVyLmN1c3RvbWVyQWRkcmVzcyxcclxuICAgIH0pKTtcclxuICAgIHJlcy5qc29uKGN1c3RvbWVycyk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVycm9yIHJlYWRpbmcgY3VzdG9tZXJzOlwiLCBlcnIpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJGYWlsZWQgdG8gbG9hZCBjdXN0b21lcnNcIiB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vLyDwn5+iIEdldCBwcm9maWxlXHJcbmV4cG9ydHMuZ2V0UHJvZmlsZSA9IChyZXEsIHJlcykgPT4ge1xyXG4gIGlmICghcmVxLnNlc3Npb24uYWRtaW4pXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYWRtaW4gPSByZWFkSlNPTihhZG1pbkZpbGUpO1xyXG4gICAgY29uc3QgeyBwYXNzd29yZCwgLi4uc2FmZSB9ID0gYWRtaW47XHJcbiAgICByZXMuanNvbihzYWZlKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogXCJGYWlsZWQgdG8gcmVhZCBhZG1pbiBkYXRhXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g8J+foiBVcGRhdGUgcHJvZmlsZVxyXG5leHBvcnRzLnVwZGF0ZVByb2ZpbGUgPSAocmVxLCByZXMpID0+IHtcclxuICBpZiAoIXJlcS5zZXNzaW9uLmFkbWluKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGluY29taW5nID0gcmVxLmJvZHkgfHwge307XHJcbiAgICBjb25zdCBhZG1pbiA9IHJlYWRKU09OKGFkbWluRmlsZSk7XHJcbiAgICBjb25zdCBhbGxvd2VkID0gW1wibmFtZVwiLCBcImVtYWlsXCIsIFwicGhvbmVcIiwgXCJhZGRyZXNzXCIsIFwicHJvZmlsZVBpY1wiLCBcInJvbGVcIl07XHJcbiAgICBhbGxvd2VkLmZvckVhY2goayA9PiB7XHJcbiAgICAgIGlmIChrIGluIGluY29taW5nKSBhZG1pbltrXSA9IGluY29taW5nW2tdO1xyXG4gICAgfSk7XHJcbiAgICB3cml0ZUpTT04oYWRtaW5GaWxlLCBhZG1pbik7XHJcbiAgICBjb25zdCB7IHBhc3N3b3JkLCAuLi5zYWZlIH0gPSBhZG1pbjtcclxuICAgIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgYWRtaW46IHNhZmUgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSBhZG1pbiBkYXRhXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g8J+foiBVcGRhdGUgcGFzc3dvcmRcclxuZXhwb3J0cy51cGRhdGVQYXNzd29yZCA9IChyZXEsIHJlcykgPT4ge1xyXG4gIGlmICghcmVxLnNlc3Npb24uYWRtaW4pXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBjdXJyZW50LCBuZXdQYXNzIH0gPSByZXEuYm9keSB8fCB7fTtcclxuICAgIGlmICghY3VycmVudCB8fCAhbmV3UGFzcylcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiY3VycmVudCBhbmQgbmV3UGFzcyByZXF1aXJlZFwiIH0pO1xyXG4gICAgY29uc3QgYWRtaW4gPSByZWFkSlNPTihhZG1pbkZpbGUpO1xyXG4gICAgaWYgKGFkbWluLnBhc3N3b3JkICE9PSBjdXJyZW50KVxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJDdXJyZW50IHBhc3N3b3JkIGluY29ycmVjdFwiIH0pO1xyXG4gICAgYWRtaW4ucGFzc3dvcmQgPSBuZXdQYXNzO1xyXG4gICAgd3JpdGVKU09OKGFkbWluRmlsZSwgYWRtaW4pO1xyXG4gICAgcmVzLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIHVwZGF0ZWRcIiB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogXCJGYWlsZWQgdG8gdXBkYXRlIHBhc3N3b3JkXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbi8vIPCfn6IgQXNzaWduIGRlbGl2ZXJ5XHJcbmV4cG9ydHMuYXNzaWduRGVsaXZlcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBpZiAoIXJlcS5zZXNzaW9uLmFkbWluKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG9yZGVySWQgfSA9IHJlcS5ib2R5O1xyXG4gICAgaWYgKCFvcmRlcklkKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJvcmRlcklkIHJlcXVpcmVkXCIgfSk7XHJcblxyXG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChvcmRlcklkKTtcclxuICAgIGlmICghb3JkZXIpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIk9yZGVyIG5vdCBmb3VuZFwiIH0pO1xyXG5cclxuICAgIC8vIFVwZGF0ZSBzdGF0dXNcclxuICAgIG9yZGVyLnBheW1lbnRTdGF0dXMgPSBcInNoaXBwZWRcIjsgLy8gb3IgXCJkZWxpdmVyeVwiIGFzIHBlciB5b3VyIHdvcmtmbG93XHJcbiAgICBhd2FpdCBvcmRlci5zYXZlKCk7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogYE9yZGVyICMke29yZGVySWR9IGFzc2lnbmVkIHRvIGRlbGl2ZXJ5YCwgb3JkZXIgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiYXNzaWduRGVsaXZlcnkgZXJyb3I6XCIsIGVycik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJGYWlsZWQgdG8gYXNzaWduIGRlbGl2ZXJ5XCIgfSk7XHJcbiAgfVxyXG59OyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQzs7QUFFekM7QUFDQUMsT0FBTyxDQUFDQyxLQUFLLEdBQUcsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDNUIsTUFBTTtJQUFFQyxRQUFRO0lBQUVDO0VBQVMsQ0FBQyxHQUFHSCxHQUFHLENBQUNJLElBQUk7RUFDdkMsSUFBSUYsUUFBUSxLQUFLRyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJSixRQUFRLEtBQUtFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxVQUFVLEVBQUU7SUFDOUVSLEdBQUcsQ0FBQ1MsT0FBTyxDQUFDQyxLQUFLLEdBQUcsSUFBSTtJQUN4QixPQUFPVCxHQUFHLENBQUNVLElBQUksQ0FBQztNQUFFQyxPQUFPLEVBQUU7SUFBSyxDQUFDLENBQUM7RUFDcEM7RUFDQVgsR0FBRyxDQUFDWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNGLElBQUksQ0FBQztJQUFFQyxPQUFPLEVBQUUsS0FBSztJQUFFRSxPQUFPLEVBQUU7RUFBc0IsQ0FBQyxDQUFDO0FBQzFFLENBQUM7O0FBRUQ7QUFDQWhCLE9BQU8sQ0FBQ2lCLE1BQU0sR0FBRyxDQUFDZixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUM3QkQsR0FBRyxDQUFDUyxPQUFPLENBQUNPLE9BQU8sQ0FBQyxDQUFDO0VBQ3JCZixHQUFHLENBQUNVLElBQUksQ0FBQztJQUFFQyxPQUFPLEVBQUUsSUFBSTtJQUFFRSxPQUFPLEVBQUU7RUFBYSxDQUFDLENBQUM7QUFDcEQsQ0FBQzs7QUFFRDtBQUNBaEIsT0FBTyxDQUFDbUIsS0FBSyxHQUFHLENBQUNqQixHQUFHLEVBQUVDLEdBQUcsS0FBSztF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","map":{"version":3,"names":["Order","require","exports","login","req","res","username","password","body","process","env","ADMIN_USER","ADMIN_PASS","session","admin","json","success","status","message","logout","destroy","check","loggedIn","getOrders","orders","find","sort","date","err","console","error","getCustomers","readJSON","ordersFile","customers","map","order","name","customerName","email","customerEmail","phone","customerPhone","address","customerAddress","getProfile","adminFile","safe","e","updateProfile","incoming","allowed","forEach","k","writeJSON","updatePassword","current","newPass","assignDelivery","orderId","findById","paymentStatus","save"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\controllers\\","sources":["adminController.js"],"sourcesContent":["const Order = require(\"../models/Orders\");\r\n\r\n// 🟢 Auth: login\r\nexports.login = (req, res) => {\r\n  const { username, password } = req.body;\r\n  if (username === process.env.ADMIN_USER && password === process.env.ADMIN_PASS) {\r\n    req.session.admin = true;\r\n    return res.json({ success: true });\r\n  }\r\n  res.status(401).json({ success: false, message: \"Invalid credentials\" });\r\n};\r\n\r\n// 🟢 Auth: logout\r\nexports.logout = (req, res) => {\r\n  req.session.destroy();\r\n  res.json({ success: true, message: \"Logged out\" });\r\n};\r\n\r\n// 🟢 Auth: check session\r\nexports.check = (req, res) => {\r\n  res.json({ loggedIn: !!req.session.admin });\r\n};\r\n\r\n// 🟢 Get all orders from MongoDB\r\nexports.getOrders = async (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n\r\n  try {\r\n    const orders = await Order.find().sort({ date: -1 }); // latest first\r\n    res.json(orders);\r\n  } catch (err) {\r\n    console.error(\"Error fetching orders from MongoDB:\", err);\r\n    res.status(500).json({ success: false, message: \"Failed to fetch orders\" });\r\n  }\r\n};\r\n\r\n// 🟢 Get customers\r\nexports.getCustomers = (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n  try {\r\n    const orders = readJSON(ordersFile);\r\n    const customers = orders.map(order => ({\r\n      name: order.customerName,\r\n      email: order.customerEmail,\r\n      phone: order.customerPhone,\r\n      address: order.customerAddress,\r\n    }));\r\n    res.json(customers);\r\n  } catch (err) {\r\n    console.error(\"❌ Error reading customers:\", err);\r\n    res.status(500).json({ success: false, message: \"Failed to load customers\" });\r\n  }\r\n};\r\n\r\n// 🟢 Get profile\r\nexports.getProfile = (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n  try {\r\n    const admin = readJSON(adminFile);\r\n    const { password, ...safe } = admin;\r\n    res.json(safe);\r\n  } catch (e) {\r\n    console.error(e);\r\n    res.status(500).json({ error: \"Failed to read admin data\" });\r\n  }\r\n};\r\n\r\n// 🟢 Update profile\r\nexports.updateProfile = (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n  try {\r\n    const incoming = req.body || {};\r\n    const admin = readJSON(adminFile);\r\n    const allowed = [\"name\", \"email\", \"phone\", \"address\", \"profilePic\", \"role\"];\r\n    allowed.forEach(k => {\r\n      if (k in incoming) admin[k] = incoming[k];\r\n    });\r\n    writeJSON(adminFile, admin);\r\n    const { password, ...safe } = admin;\r\n    res.json({ success: true, admin: safe });\r\n  } catch (e) {\r\n    console.error(e);\r\n    res.status(500).json({ error: \"Failed to update admin data\" });\r\n  }\r\n};\r\n\r\n// 🟢 Update password\r\nexports.updatePassword = (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n  try {\r\n    const { current, newPass } = req.body || {};\r\n    if (!current || !newPass)\r\n      return res.status(400).json({ error: \"current and newPass required\" });\r\n    const admin = readJSON(adminFile);\r\n    if (admin.password !== current)\r\n      return res.status(400).json({ error: \"Current password incorrect\" });\r\n    admin.password = newPass;\r\n    writeJSON(adminFile, admin);\r\n    res.json({ success: true, message: \"Password updated\" });\r\n  } catch (e) {\r\n    console.error(e);\r\n    res.status(500).json({ error: \"Failed to update password\" });\r\n  }\r\n};\r\n\r\n\r\n// 🟢 Assign delivery\r\nexports.assignDelivery = async (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n\r\n  try {\r\n    const { orderId } = req.body;\r\n    if (!orderId) return res.status(400).json({ success: false, message: \"orderId required\" });\r\n\r\n    const order = await Order.findById(orderId);\r\n    if (!order) return res.status(404).json({ success: false, message: \"Order not found\" });\r\n\r\n    // Update status\r\n    order.paymentStatus = \"shipped\"; // or \"delivery\" as per your workflow\r\n    await order.save();\r\n\r\n    return res.json({ success: true, message: `Order #${orderId} assigned to delivery`, order });\r\n  } catch (err) {\r\n    console.error(\"assignDelivery error:\", err);\r\n    return res.status(500).json({ success: false, message: \"Failed to assign delivery\" });\r\n  }\r\n};"],"mappings":"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","ignoreList":[]}},"mtime":1757676547793},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\models\\\\Orders.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require(\"mongoose\");\nconst orderSchema = new mongoose.Schema({\n  customerName: String,\n  customerEmail: String,\n  customerPhone: String,\n  customerAddress: String,\n  items: [{\n    id: Number,\n    name: String,\n    qty: Number,\n    price: Number,\n    total: Number\n  }],\n  totalAmount: Number,\n  paymentId: String,\n  paymentStatus: {\n    type: String,\n    default: \"PENDING\"\n  },\n  date: {\n    type: Date,\n    default: Date.now\n  }\n});\nmodule.exports = mongoose.model(\"Order\", orderSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJvcmRlclNjaGVtYSIsIlNjaGVtYSIsImN1c3RvbWVyTmFtZSIsIlN0cmluZyIsImN1c3RvbWVyRW1haWwiLCJjdXN0b21lclBob25lIiwiY3VzdG9tZXJBZGRyZXNzIiwiaXRlbXMiLCJpZCIsIk51bWJlciIsIm5hbWUiLCJxdHkiLCJwcmljZSIsInRvdGFsIiwidG90YWxBbW91bnQiLCJwYXltZW50SWQiLCJwYXltZW50U3RhdHVzIiwidHlwZSIsImRlZmF1bHQiLCJkYXRlIiwiRGF0ZSIsIm5vdyIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxhcmNoYVxcTXVzaWNcXERldmVsb3BlbW50XFxkY2Zhcm1cXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJPcmRlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcblxyXG5jb25zdCBvcmRlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIGN1c3RvbWVyTmFtZTogU3RyaW5nLFxyXG4gIGN1c3RvbWVyRW1haWw6IFN0cmluZyxcclxuICBjdXN0b21lclBob25lOiBTdHJpbmcsXHJcbiAgY3VzdG9tZXJBZGRyZXNzOiBTdHJpbmcsXHJcbiAgaXRlbXM6IFtcclxuICAgIHtcclxuICAgICAgaWQ6IE51bWJlcixcclxuICAgICAgbmFtZTogU3RyaW5nLFxyXG4gICAgICBxdHk6IE51bWJlcixcclxuICAgICAgcHJpY2U6IE51bWJlcixcclxuICAgICAgdG90YWw6IE51bWJlcixcclxuICAgIH1cclxuICBdLFxyXG4gIHRvdGFsQW1vdW50OiBOdW1iZXIsXHJcbiAgcGF5bWVudElkOiBTdHJpbmcsXHJcbiAgcGF5bWVudFN0YXR1czogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IFwiUEVORElOR1wiIH0sXHJcbiAgZGF0ZTogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoXCJPcmRlclwiLCBvcmRlclNjaGVtYSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUVwQyxNQUFNQyxXQUFXLEdBQUcsSUFBSUYsUUFBUSxDQUFDRyxNQUFNLENBQUM7RUFDdENDLFlBQVksRUFBRUMsTUFBTTtFQUNwQkMsYUFBYSxFQUFFRCxNQUFNO0VBQ3JCRSxhQUFhLEVBQUVGLE1BQU07RUFDckJHLGVBQWUsRUFBRUgsTUFBTTtFQUN2QkksS0FBSyxFQUFFLENBQ0w7SUFDRUMsRUFBRSxFQUFFQyxNQUFNO0lBQ1ZDLElBQUksRUFBRVAsTUFBTTtJQUNaUSxHQUFHLEVBQUVGLE1BQU07SUFDWEcsS0FBSyxFQUFFSCxNQUFNO0lBQ2JJLEtBQUssRUFBRUo7RUFDVCxDQUFDLENBQ0Y7RUFDREssV0FBVyxFQUFFTCxNQUFNO0VBQ25CTSxTQUFTLEVBQUVaLE1BQU07RUFDakJhLGFBQWEsRUFBRTtJQUFFQyxJQUFJLEVBQUVkLE1BQU07SUFBRWUsT0FBTyxFQUFFO0VBQVUsQ0FBQztFQUNuREMsSUFBSSxFQUFFO0lBQUVGLElBQUksRUFBRUcsSUFBSTtJQUFFRixPQUFPLEVBQUVFLElBQUksQ0FBQ0M7RUFBSTtBQUN4QyxDQUFDLENBQUM7QUFFRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUd6QixRQUFRLENBQUMwQixLQUFLLENBQUMsT0FBTyxFQUFFeEIsV0FBVyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["mongoose","require","orderSchema","Schema","customerName","String","customerEmail","customerPhone","customerAddress","items","id","Number","name","qty","price","total","totalAmount","paymentId","paymentStatus","type","default","date","Date","now","module","exports","model"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\models\\","sources":["Orders.js"],"sourcesContent":["const mongoose = require(\"mongoose\");\r\n\r\nconst orderSchema = new mongoose.Schema({\r\n  customerName: String,\r\n  customerEmail: String,\r\n  customerPhone: String,\r\n  customerAddress: String,\r\n  items: [\r\n    {\r\n      id: Number,\r\n      name: String,\r\n      qty: Number,\r\n      price: Number,\r\n      total: Number,\r\n    }\r\n  ],\r\n  totalAmount: Number,\r\n  paymentId: String,\r\n  paymentStatus: { type: String, default: \"PENDING\" },\r\n  date: { type: Date, default: Date.now },\r\n});\r\n\r\nmodule.exports = mongoose.model(\"Order\", orderSchema);"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,WAAW,GAAG,IAAIF,QAAQ,CAACG,MAAM,CAAC;EACtCC,YAAY,EAAEC,MAAM;EACpBC,aAAa,EAAED,MAAM;EACrBE,aAAa,EAAEF,MAAM;EACrBG,eAAe,EAAEH,MAAM;EACvBI,KAAK,EAAE,CACL;IACEC,EAAE,EAAEC,MAAM;IACVC,IAAI,EAAEP,MAAM;IACZQ,GAAG,EAAEF,MAAM;IACXG,KAAK,EAAEH,MAAM;IACbI,KAAK,EAAEJ;EACT,CAAC,CACF;EACDK,WAAW,EAAEL,MAAM;EACnBM,SAAS,EAAEZ,MAAM;EACjBa,aAAa,EAAE;IAAEC,IAAI,EAAEd,MAAM;IAAEe,OAAO,EAAE;EAAU,CAAC;EACnDC,IAAI,EAAE;IAAEF,IAAI,EAAEG,IAAI;IAAEF,OAAO,EAAEE,IAAI,CAACC;EAAI;AACxC,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGzB,QAAQ,CAAC0B,KAAK,CAAC,OAAO,EAAExB,WAAW,CAAC","ignoreList":[]}},"mtime":1757509711019},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\orderRoutes.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\nconst {\n  createOrder,\n  verifyPayment,\n  getAllOrders\n} = require(\"../controllers/orderController\");\nconst router = express.Router();\nrouter.post(\"/create\", createOrder);\nrouter.post(\"/verify\", verifyPayment);\n\n// Admin route to get all orders\nrouter.get(\"/admin/orders\", getAllOrders);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZU9yZGVyIiwidmVyaWZ5UGF5bWVudCIsImdldEFsbE9yZGVycyIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJnZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGFyY2hhXFxNdXNpY1xcRGV2ZWxvcGVtbnRcXGRjZmFybVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3Qge2NyZWF0ZU9yZGVyLCB2ZXJpZnlQYXltZW50LCBnZXRBbGxPcmRlcnN9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL29yZGVyQ29udHJvbGxlclwiKTtcclxuXHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5yb3V0ZXIucG9zdChcIi9jcmVhdGVcIiwgY3JlYXRlT3JkZXIpO1xyXG5yb3V0ZXIucG9zdChcIi92ZXJpZnlcIiwgdmVyaWZ5UGF5bWVudCk7XHJcblxyXG4vLyBBZG1pbiByb3V0ZSB0byBnZXQgYWxsIG9yZGVyc1xyXG5yb3V0ZXIuZ2V0KFwiL2FkbWluL29yZGVyc1wiLCBnZXRBbGxPcmRlcnMpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNO0VBQUNDLFdBQVc7RUFBRUMsYUFBYTtFQUFFQztBQUFZLENBQUMsR0FBR0gsT0FBTyxDQUFDLGdDQUFnQyxDQUFDO0FBRzVGLE1BQU1JLE1BQU0sR0FBR0wsT0FBTyxDQUFDTSxNQUFNLENBQUMsQ0FBQztBQUMvQkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsU0FBUyxFQUFFTCxXQUFXLENBQUM7QUFDbkNHLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFNBQVMsRUFBRUosYUFBYSxDQUFDOztBQUVyQztBQUNBRSxNQUFNLENBQUNHLEdBQUcsQ0FBQyxlQUFlLEVBQUVKLFlBQVksQ0FBQztBQUV6Q0ssTUFBTSxDQUFDQyxPQUFPLEdBQUdMLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","require","createOrder","verifyPayment","getAllOrders","router","Router","post","get","module","exports"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\routes\\","sources":["orderRoutes.js"],"sourcesContent":["const express = require(\"express\");\r\nconst {createOrder, verifyPayment, getAllOrders} = require(\"../controllers/orderController\");\r\n\r\n\r\nconst router = express.Router();\r\nrouter.post(\"/create\", createOrder);\r\nrouter.post(\"/verify\", verifyPayment);\r\n\r\n// Admin route to get all orders\r\nrouter.get(\"/admin/orders\", getAllOrders);\r\n\r\nmodule.exports = router;"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EAACC,WAAW;EAAEC,aAAa;EAAEC;AAAY,CAAC,GAAGH,OAAO,CAAC,gCAAgC,CAAC;AAG5F,MAAMI,MAAM,GAAGL,OAAO,CAACM,MAAM,CAAC,CAAC;AAC/BD,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEL,WAAW,CAAC;AACnCG,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEJ,aAAa,CAAC;;AAErC;AACAE,MAAM,CAACG,GAAG,CAAC,eAAe,EAAEJ,YAAY,CAAC;AAEzCK,MAAM,CAACC,OAAO,GAAGL,MAAM","ignoreList":[]}},"mtime":1757696612436},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\controllers\\\\orderController.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\nconst crypto = require(\"crypto\");\nconst sendEmail = require(\"../utils/sendEmail\");\nconst Order = require(\"../models/Orders\");\n\n// Create Razorpay order\nconst createOrder = async (req, res) => {\n  try {\n    const {\n      totalAmount\n    } = req.body;\n    const options = {\n      amount: totalAmount * 100,\n      currency: \"INR\",\n      receipt: \"receipt_\" + Date.now()\n    };\n    const order = await req.app.locals.razorpay.orders.create(options);\n    res.json(order);\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({\n      message: \"Failed to create order\"\n    });\n  }\n};\n\n// Verify payment + save order to MongoDB\nconst verifyPayment = async (req, res) => {\n  try {\n    const {\n      razorpay_order_id,\n      razorpay_payment_id,\n      razorpay_signature,\n      customerName,\n      customerEmail,\n      customerPhone,\n      customerAddress,\n      items,\n      totalAmount\n    } = req.body;\n    const sign = razorpay_order_id + \"|\" + razorpay_payment_id;\n    const expectedSign = crypto.createHmac(\"sha256\", req.app.locals.razorpay.key_secret).update(sign.toString()).digest(\"hex\");\n    if (razorpay_signature !== expectedSign) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid signature\"\n      });\n    }\n    const order = new Order({\n      customerName,\n      customerEmail,\n      customerPhone,\n      customerAddress,\n      items,\n      totalAmount,\n      paymentId: razorpay_payment_id,\n      paymentStatus: \"SUCCESS\"\n    });\n    await order.save();\n    await sendEmail(customerEmail, \"Order Confirmation\", `Hello ${customerName},\\n\\nYour order has been placed successfully.\\nOrder ID: ${order._id}\\nTotal: ₹${totalAmount}`);\n    return res.json({\n      success: true,\n      message: \"Payment verified & order saved\",\n      order\n    });\n  } catch (err) {\n    console.error(\"❌ verifyPayment error:\", err);\n    res.status(500).json({\n      message: \"Payment verification failed\"\n    });\n  }\n};\n\n// Admin Get all orders from MongoDB\nconst getAllOrders = async (req, res) => {\n  try {\n    if (!req.session.admin) {\n      return res.status(401).json({\n        success: false,\n        message: \"Unauthorized\"\n      });\n    }\n    const orders = await Order.find().sort({\n      createdAt: -1\n    });\n    res.json({\n      success: true,\n      orders\n    });\n  } catch (err) {\n    console.error(\"❌ getAllOrders error:\", err);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch orders\"\n    });\n  }\n};\nmodule.exports = {\n  createOrder,\n  verifyPayment,\n  getAllOrders\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcnlwdG8iLCJyZXF1aXJlIiwic2VuZEVtYWlsIiwiT3JkZXIiLCJjcmVhdGVPcmRlciIsInJlcSIsInJlcyIsInRvdGFsQW1vdW50IiwiYm9keSIsIm9wdGlvbnMiLCJhbW91bnQiLCJjdXJyZW5jeSIsInJlY2VpcHQiLCJEYXRlIiwibm93Iiwib3JkZXIiLCJhcHAiLCJsb2NhbHMiLCJyYXpvcnBheSIsIm9yZGVycyIsImNyZWF0ZSIsImpzb24iLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGF0dXMiLCJtZXNzYWdlIiwidmVyaWZ5UGF5bWVudCIsInJhem9ycGF5X29yZGVyX2lkIiwicmF6b3JwYXlfcGF5bWVudF9pZCIsInJhem9ycGF5X3NpZ25hdHVyZSIsImN1c3RvbWVyTmFtZSIsImN1c3RvbWVyRW1haWwiLCJjdXN0b21lclBob25lIiwiY3VzdG9tZXJBZGRyZXNzIiwiaXRlbXMiLCJzaWduIiwiZXhwZWN0ZWRTaWduIiwiY3JlYXRlSG1hYyIsImtleV9zZWNyZXQiLCJ1cGRhdGUiLCJ0b1N0cmluZyIsImRpZ2VzdCIsInN1Y2Nlc3MiLCJwYXltZW50SWQiLCJwYXltZW50U3RhdHVzIiwic2F2ZSIsIl9pZCIsImdldEFsbE9yZGVycyIsInNlc3Npb24iLCJhZG1pbiIsImZpbmQiLCJzb3J0IiwiY3JlYXRlZEF0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxhcmNoYVxcTXVzaWNcXERldmVsb3BlbW50XFxkY2Zhcm1cXGJhY2tlbmRcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIm9yZGVyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjcnlwdG8gPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xyXG5jb25zdCBzZW5kRW1haWwgPSByZXF1aXJlKFwiLi4vdXRpbHMvc2VuZEVtYWlsXCIpO1xyXG5jb25zdCBPcmRlciA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvT3JkZXJzXCIpO1xyXG5cclxuLy8gQ3JlYXRlIFJhem9ycGF5IG9yZGVyXHJcbmNvbnN0IGNyZWF0ZU9yZGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdG90YWxBbW91bnQgfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgYW1vdW50OiB0b3RhbEFtb3VudCAqIDEwMCxcclxuICAgICAgY3VycmVuY3k6IFwiSU5SXCIsXHJcbiAgICAgIHJlY2VpcHQ6IFwicmVjZWlwdF9cIiArIERhdGUubm93KCksXHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCByZXEuYXBwLmxvY2Fscy5yYXpvcnBheS5vcmRlcnMuY3JlYXRlKG9wdGlvbnMpO1xyXG4gICAgcmVzLmpzb24ob3JkZXIpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkZhaWxlZCB0byBjcmVhdGUgb3JkZXJcIiB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBWZXJpZnkgcGF5bWVudCArIHNhdmUgb3JkZXIgdG8gTW9uZ29EQlxyXG5jb25zdCB2ZXJpZnlQYXltZW50ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgcmF6b3JwYXlfb3JkZXJfaWQsXHJcbiAgICAgIHJhem9ycGF5X3BheW1lbnRfaWQsXHJcbiAgICAgIHJhem9ycGF5X3NpZ25hdHVyZSxcclxuICAgICAgY3VzdG9tZXJOYW1lLFxyXG4gICAgICBjdXN0b21lckVtYWlsLFxyXG4gICAgICBjdXN0b21lclBob25lLFxyXG4gICAgICBjdXN0b21lckFkZHJlc3MsXHJcbiAgICAgIGl0ZW1zLFxyXG4gICAgICB0b3RhbEFtb3VudCxcclxuICAgIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBjb25zdCBzaWduID0gcmF6b3JwYXlfb3JkZXJfaWQgKyBcInxcIiArIHJhem9ycGF5X3BheW1lbnRfaWQ7XHJcbiAgICBjb25zdCBleHBlY3RlZFNpZ24gPSBjcnlwdG9cclxuICAgICAgLmNyZWF0ZUhtYWMoXCJzaGEyNTZcIiwgcmVxLmFwcC5sb2NhbHMucmF6b3JwYXkua2V5X3NlY3JldClcclxuICAgICAgLnVwZGF0ZShzaWduLnRvU3RyaW5nKCkpXHJcbiAgICAgIC5kaWdlc3QoXCJoZXhcIik7XHJcblxyXG4gICAgaWYgKHJhem9ycGF5X3NpZ25hdHVyZSAhPT0gZXhwZWN0ZWRTaWduKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkludmFsaWQgc2lnbmF0dXJlXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb3JkZXIgPSBuZXcgT3JkZXIoe1xyXG4gICAgICBjdXN0b21lck5hbWUsXHJcbiAgICAgIGN1c3RvbWVyRW1haWwsXHJcbiAgICAgIGN1c3RvbWVyUGhvbmUsXHJcbiAgICAgIGN1c3RvbWVyQWRkcmVzcyxcclxuICAgICAgaXRlbXMsXHJcbiAgICAgIHRvdGFsQW1vdW50LFxyXG4gICAgICBwYXltZW50SWQ6IHJhem9ycGF5X3BheW1lbnRfaWQsXHJcbiAgICAgIHBheW1lbnRTdGF0dXM6IFwiU1VDQ0VTU1wiLFxyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgb3JkZXIuc2F2ZSgpO1xyXG5cclxuICAgIGF3YWl0IHNlbmRFbWFpbChcclxuICAgICAgY3VzdG9tZXJFbWFpbCxcclxuICAgICAgXCJPcmRlciBDb25maXJtYXRpb25cIixcclxuICAgICAgYEhlbGxvICR7Y3VzdG9tZXJOYW1lfSxcXG5cXG5Zb3VyIG9yZGVyIGhhcyBiZWVuIHBsYWNlZCBzdWNjZXNzZnVsbHkuXFxuT3JkZXIgSUQ6ICR7b3JkZXIuX2lkfVxcblRvdGFsOiDigrkke3RvdGFsQW1vdW50fWBcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJQYXltZW50IHZlcmlmaWVkICYgb3JkZXIgc2F2ZWRcIiwgb3JkZXIgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIHZlcmlmeVBheW1lbnQgZXJyb3I6XCIsIGVycik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiUGF5bWVudCB2ZXJpZmljYXRpb24gZmFpbGVkXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbi8vIEFkbWluIEdldCBhbGwgb3JkZXJzIGZyb20gTW9uZ29EQlxyXG5jb25zdCBnZXRBbGxPcmRlcnMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgaWYgKCFyZXEuc2Vzc2lvbi5hZG1pbikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoKS5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KTtcclxuICAgIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgb3JkZXJzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBnZXRBbGxPcmRlcnMgZXJyb3I6XCIsIGVycik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkZhaWxlZCB0byBmZXRjaCBvcmRlcnNcIiB9KTtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgY3JlYXRlT3JkZXIsIHZlcmlmeVBheW1lbnQsIGdldEFsbE9yZGVycyB9OyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsTUFBTUMsU0FB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","map":{"version":3,"names":["crypto","require","sendEmail","Order","createOrder","req","res","totalAmount","body","options","amount","currency","receipt","Date","now","order","app","locals","razorpay","orders","create","json","err","console","error","status","message","verifyPayment","razorpay_order_id","razorpay_payment_id","razorpay_signature","customerName","customerEmail","customerPhone","customerAddress","items","sign","expectedSign","createHmac","key_secret","update","toString","digest","success","paymentId","paymentStatus","save","_id","getAllOrders","session","admin","find","sort","createdAt","module","exports"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\controllers\\","sources":["orderController.js"],"sourcesContent":["const crypto = require(\"crypto\");\r\nconst sendEmail = require(\"../utils/sendEmail\");\r\nconst Order = require(\"../models/Orders\");\r\n\r\n// Create Razorpay order\r\nconst createOrder = async (req, res) => {\r\n  try {\r\n    const { totalAmount } = req.body;\r\n    const options = {\r\n      amount: totalAmount * 100,\r\n      currency: \"INR\",\r\n      receipt: \"receipt_\" + Date.now(),\r\n    };\r\n    const order = await req.app.locals.razorpay.orders.create(options);\r\n    res.json(order);\r\n  } catch (err) {\r\n    console.error(err);\r\n    res.status(500).json({ message: \"Failed to create order\" });\r\n  }\r\n};\r\n\r\n// Verify payment + save order to MongoDB\r\nconst verifyPayment = async (req, res) => {\r\n  try {\r\n    const {\r\n      razorpay_order_id,\r\n      razorpay_payment_id,\r\n      razorpay_signature,\r\n      customerName,\r\n      customerEmail,\r\n      customerPhone,\r\n      customerAddress,\r\n      items,\r\n      totalAmount,\r\n    } = req.body;\r\n\r\n    const sign = razorpay_order_id + \"|\" + razorpay_payment_id;\r\n    const expectedSign = crypto\r\n      .createHmac(\"sha256\", req.app.locals.razorpay.key_secret)\r\n      .update(sign.toString())\r\n      .digest(\"hex\");\r\n\r\n    if (razorpay_signature !== expectedSign) {\r\n      return res.status(400).json({ success: false, message: \"Invalid signature\" });\r\n    }\r\n\r\n    const order = new Order({\r\n      customerName,\r\n      customerEmail,\r\n      customerPhone,\r\n      customerAddress,\r\n      items,\r\n      totalAmount,\r\n      paymentId: razorpay_payment_id,\r\n      paymentStatus: \"SUCCESS\",\r\n    });\r\n\r\n    await order.save();\r\n\r\n    await sendEmail(\r\n      customerEmail,\r\n      \"Order Confirmation\",\r\n      `Hello ${customerName},\\n\\nYour order has been placed successfully.\\nOrder ID: ${order._id}\\nTotal: ₹${totalAmount}`\r\n    );\r\n\r\n    return res.json({ success: true, message: \"Payment verified & order saved\", order });\r\n  } catch (err) {\r\n    console.error(\"❌ verifyPayment error:\", err);\r\n    res.status(500).json({ message: \"Payment verification failed\" });\r\n  }\r\n};\r\n\r\n\r\n// Admin Get all orders from MongoDB\r\nconst getAllOrders = async (req, res) => {\r\n  try {\r\n    if (!req.session.admin) {\r\n      return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n    }\r\n    const orders = await Order.find().sort({ createdAt: -1 });\r\n    res.json({ success: true, orders });\r\n  } catch (err) {\r\n    console.error(\"❌ getAllOrders error:\", err);\r\n    res.status(500).json({ success: false, message: \"Failed to fetch orders\" });\r\n  }\r\n};\r\n\r\nmodule.exports = { createOrder, verifyPayment, getAllOrders };"],"mappings":"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","ignoreList":[]}},"mtime":1757522144669},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\utils\\\\sendEmail.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\nconst {\n  configDotenv\n} = require(\"dotenv\");\nconst nodemailer = require(\"nodemailer\");\nconsole.log(\"EMAIL_USER:\", process.env.EMAIL_USER);\nconsole.log(\"EMAIL_PASS exists?\", !!process.env.EMAIL_PASS);\nconst transporter = nodemailer.createTransport({\n  service: \"gmail\",\n  auth: {\n    user: process.env.EMAIL_USER,\n    pass: process.env.EMAIL_PASS\n  }\n});\nasync function sendEmail(to, subject, text) {\n  await transporter.sendMail({\n    from: process.env.EMAIL_USER,\n    to,\n    subject,\n    text\n  });\n}\nmodule.exports = sendEmail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWdEb3RlbnYiLCJyZXF1aXJlIiwibm9kZW1haWxlciIsImNvbnNvbGUiLCJsb2ciLCJwcm9jZXNzIiwiZW52IiwiRU1BSUxfVVNFUiIsIkVNQUlMX1BBU1MiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJhdXRoIiwidXNlciIsInBhc3MiLCJzZW5kRW1haWwiLCJ0byIsInN1YmplY3QiLCJ0ZXh0Iiwic2VuZE1haWwiLCJmcm9tIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxhcmNoYVxcTXVzaWNcXERldmVsb3BlbW50XFxkY2Zhcm1cXGJhY2tlbmRcXHV0aWxzXFwiLCJzb3VyY2VzIjpbInNlbmRFbWFpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGNvbmZpZ0RvdGVudiB9ID0gcmVxdWlyZShcImRvdGVudlwiKTtcclxuY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xyXG5cclxuXHJcbmNvbnNvbGUubG9nKFwiRU1BSUxfVVNFUjpcIiwgcHJvY2Vzcy5lbnYuRU1BSUxfVVNFUik7XHJcbmNvbnNvbGUubG9nKFwiRU1BSUxfUEFTUyBleGlzdHM/XCIsICEhcHJvY2Vzcy5lbnYuRU1BSUxfUEFTUyk7XHJcblxyXG5jb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuICBzZXJ2aWNlOiBcImdtYWlsXCIsXHJcbiAgYXV0aDoge1xyXG4gICAgdXNlcjogcHJvY2Vzcy5lbnYuRU1BSUxfVVNFUixcclxuICAgIHBhc3M6IHByb2Nlc3MuZW52LkVNQUlMX1BBU1MsXHJcbiAgfSxcclxufSk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZW5kRW1haWwodG8sIHN1YmplY3QsIHRleHQpIHtcclxuICBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbCh7XHJcbiAgICBmcm9tOiBwcm9jZXNzLmVudi5FTUFJTF9VU0VSLFxyXG4gICAgdG8sXHJcbiAgICBzdWJqZWN0LFxyXG4gICAgdGV4dCxcclxuICB9KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBzZW5kRW1haWw7Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU07RUFBRUE7QUFBYSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDMUMsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMsWUFBWSxDQUFDO0FBR3hDRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxhQUFhLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVLENBQUM7QUFDbERKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9CQUFvQixFQUFFLENBQUMsQ0FBQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFVBQVUsQ0FBQztBQUUzRCxNQUFNQyxXQUFXLEdBQUdQLFVBQVUsQ0FBQ1EsZUFBZSxDQUFDO0VBQzdDQyxPQUFPLEVBQUUsT0FBTztFQUNoQkMsSUFBSSxFQUFFO0lBQ0pDLElBQUksRUFBRVIsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVU7SUFDNUJPLElBQUksRUFBRVQsT0FBTyxDQUFDQyxHQUFHLENBQUNFO0VBQ3BCO0FBQ0YsQ0FBQyxDQUFDO0FBRUYsZUFBZU8sU0FBU0EsQ0FBQ0MsRUFBRSxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBRTtFQUMxQyxNQUFNVCxXQUFXLENBQUNVLFFBQVEsQ0FBQztJQUN6QkMsSUFBSSxFQUFFZixPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVTtJQUM1QlMsRUFBRTtJQUNGQyxPQUFPO0lBQ1BDO0VBQ0YsQ0FBQyxDQUFDO0FBQ0o7QUFFQUcsTUFBTSxDQUFDQyxPQUFPLEdBQUdQLFNBQVMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["configDotenv","require","nodemailer","console","log","process","env","EMAIL_USER","EMAIL_PASS","transporter","createTransport","service","auth","user","pass","sendEmail","to","subject","text","sendMail","from","module","exports"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\utils\\","sources":["sendEmail.js"],"sourcesContent":["const { configDotenv } = require(\"dotenv\");\r\nconst nodemailer = require(\"nodemailer\");\r\n\r\n\r\nconsole.log(\"EMAIL_USER:\", process.env.EMAIL_USER);\r\nconsole.log(\"EMAIL_PASS exists?\", !!process.env.EMAIL_PASS);\r\n\r\nconst transporter = nodemailer.createTransport({\r\n  service: \"gmail\",\r\n  auth: {\r\n    user: process.env.EMAIL_USER,\r\n    pass: process.env.EMAIL_PASS,\r\n  },\r\n});\r\n\r\nasync function sendEmail(to, subject, text) {\r\n  await transporter.sendMail({\r\n    from: process.env.EMAIL_USER,\r\n    to,\r\n    subject,\r\n    text,\r\n  });\r\n}\r\n\r\nmodule.exports = sendEmail;"],"mappings":";;AAAA,MAAM;EAAEA;AAAa,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC1C,MAAMC,UAAU,GAAGD,OAAO,CAAC,YAAY,CAAC;AAGxCE,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEC,OAAO,CAACC,GAAG,CAACC,UAAU,CAAC;AAClDJ,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE,CAAC,CAACC,OAAO,CAACC,GAAG,CAACE,UAAU,CAAC;AAE3D,MAAMC,WAAW,GAAGP,UAAU,CAACQ,eAAe,CAAC;EAC7CC,OAAO,EAAE,OAAO;EAChBC,IAAI,EAAE;IACJC,IAAI,EAAER,OAAO,CAACC,GAAG,CAACC,UAAU;IAC5BO,IAAI,EAAET,OAAO,CAACC,GAAG,CAACE;EACpB;AACF,CAAC,CAAC;AAEF,eAAeO,SAASA,CAACC,EAAE,EAAEC,OAAO,EAAEC,IAAI,EAAE;EAC1C,MAAMT,WAAW,CAACU,QAAQ,CAAC;IACzBC,IAAI,EAAEf,OAAO,CAACC,GAAG,CAACC,UAAU;IAC5BS,EAAE;IACFC,OAAO;IACPC;EACF,CAAC,CAAC;AACJ;AAEAG,MAAM,CAACC,OAAO,GAAGP,SAAS","ignoreList":[]}},"mtime":1757698214276},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\productRoutes.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGFyY2hhXFxNdXNpY1xcRGV2ZWxvcGVtbnRcXGRjZmFybVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiIl0sIm1hcHBpbmdzIjoiIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":[],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\routes\\","sources":["productRoutes.js"],"sourcesContent":[""],"mappings":"","ignoreList":[]}},"mtime":1757862839943},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\paymentRoutes.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\n// routes/paymentRoutes.js\nconst express = require(\"express\");\nconst crypto = require(\"crypto\");\nconst path = require(\"path\");\nconst sendEmail = require(\"../utils/sendEmail\");\nconst router = express.Router();\n\n// ✅ Verify payment\nrouter.post(\"/verify\", async (req, res) => {\n  try {\n    const {\n      razorpay_order_id,\n      razorpay_payment_id,\n      razorpay_signature,\n      customerName,\n      customerEmail,\n      customerPhone,\n      customerAddress,\n      items,\n      totalAmount\n    } = req.body;\n\n    // Log incoming payload for debugging\n    console.log(\"➡️ Verify Payload:\", req.body);\n    const sign = razorpay_order_id + \"|\" + razorpay_payment_id;\n    const expectedSign = crypto.createHmac(\"sha256\", process.env.RAZORPAY_KEY_SECRET).update(sign.toString()).digest(\"hex\");\n    if (razorpay_signature === expectedSign) {\n      // ✅ Payment verified\n      const order = {\n        id: Date.now(),\n        customerName: customerName || \"Unknown\",\n        customerEmail: customerEmail || \"N/A\",\n        customerPhone: customerPhone || \"N/A\",\n        customerAddress: customerAddress || \"N/A\",\n        items: items || [],\n        totalAmount: totalAmount || 0,\n        paymentId: razorpay_payment_id,\n        paymentStatus: \"SUCCESS\",\n        date: new Date().toLocaleString()\n      };\n      const data = readJSON(ordersFile);\n      data.push(order);\n      writeJSON(ordersFile, data);\n\n      // Try sending email\n      try {\n        await sendEmail(customerEmail, \"Order Confirmation\", `Hello ${customerName},\\n\\nYour order has been placed successfully.\\nOrder ID: ${order.id}\\nTotal: ₹${totalAmount}\\n\\nThank you for shopping with us!`);\n      } catch (e) {\n        console.error(\"❌ Email send failed:\", e);\n      }\n      return res.json({\n        success: true,\n        message: \"Payment verified & order saved\",\n        order\n      });\n    } else {\n      console.warn(\"❌ Invalid signature\", {\n        razorpay_signature,\n        expectedSign\n      });\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid signature\"\n      });\n    }\n  } catch (err) {\n    console.error(\"❌ Error verifying payment:\", err);\n    return res.status(500).json({\n      success: false,\n      message: \"Payment verification failed\",\n      error: err.message\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyeXB0byIsInBhdGgiLCJzZW5kRW1haWwiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwicmVxIiwicmVzIiwicmF6b3JwYXlfb3JkZXJfaWQiLCJyYXpvcnBheV9wYXltZW50X2lkIiwicmF6b3JwYXlfc2lnbmF0dXJlIiwiY3VzdG9tZXJOYW1lIiwiY3VzdG9tZXJFbWFpbCIsImN1c3RvbWVyUGhvbmUiLCJjdXN0b21lckFkZHJlc3MiLCJpdGVtcyIsInRvdGFsQW1vdW50IiwiYm9keSIsImNvbnNvbGUiLCJsb2ciLCJzaWduIiwiZXhwZWN0ZWRTaWduIiwiY3JlYXRlSG1hYyIsInByb2Nlc3MiLCJlbnYiLCJSQVpPUlBBWV9LRVlfU0VDUkVUIiwidXBkYXRlIiwidG9TdHJpbmciLCJkaWdlc3QiLCJvcmRlciIsImlkIiwiRGF0ZSIsIm5vdyIsInBheW1lbnRJZCIsInBheW1lbnRTdGF0dXMiLCJkYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJkYXRhIiwicmVhZEpTT04iLCJvcmRlcnNGaWxlIiwicHVzaCIsIndyaXRlSlNPTiIsImUiLCJlcnJvciIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsIndhcm4iLCJzdGF0dXMiLCJlcnIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGFyY2hhXFxNdXNpY1xcRGV2ZWxvcGVtbnRcXGRjZmFybVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbInBheW1lbnRSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcm91dGVzL3BheW1lbnRSb3V0ZXMuanNcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XHJcbmNvbnN0IHNlbmRFbWFpbCA9IHJlcXVpcmUoXCIuLi91dGlscy9zZW5kRW1haWxcIik7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuLy8g4pyFIFZlcmlmeSBwYXltZW50XHJcbnJvdXRlci5wb3N0KFwiL3ZlcmlmeVwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICByYXpvcnBheV9vcmRlcl9pZCxcclxuICAgICAgcmF6b3JwYXlfcGF5bWVudF9pZCxcclxuICAgICAgcmF6b3JwYXlfc2lnbmF0dXJlLFxyXG4gICAgICBjdXN0b21lck5hbWUsXHJcbiAgICAgIGN1c3RvbWVyRW1haWwsXHJcbiAgICAgIGN1c3RvbWVyUGhvbmUsXHJcbiAgICAgIGN1c3RvbWVyQWRkcmVzcyxcclxuICAgICAgaXRlbXMsXHJcbiAgICAgIHRvdGFsQW1vdW50LFxyXG4gICAgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIC8vIExvZyBpbmNvbWluZyBwYXlsb2FkIGZvciBkZWJ1Z2dpbmdcclxuICAgIGNvbnNvbGUubG9nKFwi4p6h77iPIFZlcmlmeSBQYXlsb2FkOlwiLCByZXEuYm9keSk7XHJcblxyXG4gICAgY29uc3Qgc2lnbiA9IHJhem9ycGF5X29yZGVyX2lkICsgXCJ8XCIgKyByYXpvcnBheV9wYXltZW50X2lkO1xyXG4gICAgY29uc3QgZXhwZWN0ZWRTaWduID0gY3J5cHRvXHJcbiAgICAgIC5jcmVhdGVIbWFjKFwic2hhMjU2XCIsIHByb2Nlc3MuZW52LlJBWk9SUEFZX0tFWV9TRUNSRVQpXHJcbiAgICAgIC51cGRhdGUoc2lnbi50b1N0cmluZygpKVxyXG4gICAgICAuZGlnZXN0KFwiaGV4XCIpO1xyXG5cclxuICAgIGlmIChyYXpvcnBheV9zaWduYXR1cmUgPT09IGV4cGVjdGVkU2lnbikge1xyXG4gICAgICAvLyDinIUgUGF5bWVudCB2ZXJpZmllZFxyXG4gICAgICBjb25zdCBvcmRlciA9IHtcclxuICAgICAgICBpZDogRGF0ZS5ub3coKSxcclxuICAgICAgICBjdXN0b21lck5hbWU6IGN1c3RvbWVyTmFtZSB8fCBcIlVua25vd25cIixcclxuICAgICAgICBjdXN0b21lckVtYWlsOiBjdXN0b21lckVtYWlsIHx8IFwiTi9BXCIsXHJcbiAgICAgICAgY3VzdG9tZXJQaG9uZTogY3VzdG9tZXJQaG9uZSB8fCBcIk4vQVwiLFxyXG4gICAgICAgIGN1c3RvbWVyQWRkcmVzczogY3VzdG9tZXJBZGRyZXNzIHx8IFwiTi9BXCIsXHJcbiAgICAgICAgaXRlbXM6IGl0ZW1zIHx8IFtdLFxyXG4gICAgICAgIHRvdGFsQW1vdW50OiB0b3RhbEFtb3VudCB8fCAwLFxyXG4gICAgICAgIHBheW1lbnRJZDogcmF6b3JwYXlfcGF5bWVudF9pZCxcclxuICAgICAgICBwYXltZW50U3RhdHVzOiBcIlNVQ0NFU1NcIixcclxuICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBkYXRhID0gcmVhZEpTT04ob3JkZXJzRmlsZSk7XHJcbiAgICAgIGRhdGEucHVzaChvcmRlcik7XHJcbiAgICAgIHdyaXRlSlNPTihvcmRlcnNGaWxlLCBkYXRhKTtcclxuXHJcbiAgICAgIC8vIFRyeSBzZW5kaW5nIGVtYWlsXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgc2VuZEVtYWlsKFxyXG4gICAgICAgICAgY3VzdG9tZXJFbWFpbCxcclxuICAgICAgICAgIFwiT3JkZXIgQ29uZmlybWF0aW9uXCIsXHJcbiAgICAgICAgICBgSGVsbG8gJHtjdXN0b21lck5hbWV9LFxcblxcbllvdXIgb3JkZXIgaGFzIGJlZW4gcGxhY2VkIHN1Y2Nlc3NmdWxseS5cXG5PcmRlciBJRDogJHtvcmRlci5pZH1cXG5Ub3RhbDog4oK5JHt0b3RhbEFtb3VudH1cXG5cXG5UaGFuayB5b3UgZm9yIHNob3BwaW5nIHdpdGggdXMhYFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVtYWlsIHNlbmQgZmFpbGVkOlwiLCBlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlcy5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiUGF5bWVudCB2ZXJpZmllZCAmIG9yZGVyIHNhdmVkXCIsXHJcbiAgICAgICAgb3JkZXIsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS53YXJuKFwi4p2MIEludmFsaWQgc2lnbmF0dXJlXCIsIHsgcmF6b3JwYXlfc2lnbmF0dXJlLCBleHBlY3RlZFNpZ24gfSk7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIHNpZ25hdHVyZVwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRXJyb3IgdmVyaWZ5aW5nIHBheW1lbnQ6XCIsIGVycik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogXCJQYXltZW50IHZlcmlmaWNhdGlvbiBmYWlsZWRcIixcclxuICAgICAgZXJyb3I6IGVyci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNRyxTQUFTLEdBQUdILE9BQU8sQ0FBQyxvQkFBb0IsQ0FB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","map":{"version":3,"names":["express","require","crypto","path","sendEmail","router","Router","post","req","res","razorpay_order_id","razorpay_payment_id","razorpay_signature","customerName","customerEmail","customerPhone","customerAddress","items","totalAmount","body","console","log","sign","expectedSign","createHmac","process","env","RAZORPAY_KEY_SECRET","update","toString","digest","order","id","Date","now","paymentId","paymentStatus","date","toLocaleString","data","readJSON","ordersFile","push","writeJSON","e","error","json","success","message","warn","status","err","module","exports"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\routes\\","sources":["paymentRoutes.js"],"sourcesContent":["// routes/paymentRoutes.js\r\nconst express = require(\"express\");\r\nconst crypto = require(\"crypto\");\r\nconst path = require(\"path\");\r\nconst sendEmail = require(\"../utils/sendEmail\");\r\n\r\nconst router = express.Router();\r\n\r\n// ✅ Verify payment\r\nrouter.post(\"/verify\", async (req, res) => {\r\n  try {\r\n    const {\r\n      razorpay_order_id,\r\n      razorpay_payment_id,\r\n      razorpay_signature,\r\n      customerName,\r\n      customerEmail,\r\n      customerPhone,\r\n      customerAddress,\r\n      items,\r\n      totalAmount,\r\n    } = req.body;\r\n\r\n    // Log incoming payload for debugging\r\n    console.log(\"➡️ Verify Payload:\", req.body);\r\n\r\n    const sign = razorpay_order_id + \"|\" + razorpay_payment_id;\r\n    const expectedSign = crypto\r\n      .createHmac(\"sha256\", process.env.RAZORPAY_KEY_SECRET)\r\n      .update(sign.toString())\r\n      .digest(\"hex\");\r\n\r\n    if (razorpay_signature === expectedSign) {\r\n      // ✅ Payment verified\r\n      const order = {\r\n        id: Date.now(),\r\n        customerName: customerName || \"Unknown\",\r\n        customerEmail: customerEmail || \"N/A\",\r\n        customerPhone: customerPhone || \"N/A\",\r\n        customerAddress: customerAddress || \"N/A\",\r\n        items: items || [],\r\n        totalAmount: totalAmount || 0,\r\n        paymentId: razorpay_payment_id,\r\n        paymentStatus: \"SUCCESS\",\r\n        date: new Date().toLocaleString(),\r\n      };\r\n\r\n      const data = readJSON(ordersFile);\r\n      data.push(order);\r\n      writeJSON(ordersFile, data);\r\n\r\n      // Try sending email\r\n      try {\r\n        await sendEmail(\r\n          customerEmail,\r\n          \"Order Confirmation\",\r\n          `Hello ${customerName},\\n\\nYour order has been placed successfully.\\nOrder ID: ${order.id}\\nTotal: ₹${totalAmount}\\n\\nThank you for shopping with us!`\r\n        );\r\n      } catch (e) {\r\n        console.error(\"❌ Email send failed:\", e);\r\n      }\r\n\r\n      return res.json({\r\n        success: true,\r\n        message: \"Payment verified & order saved\",\r\n        order,\r\n      });\r\n    } else {\r\n      console.warn(\"❌ Invalid signature\", { razorpay_signature, expectedSign });\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: \"Invalid signature\",\r\n      });\r\n    }\r\n  } catch (err) {\r\n    console.error(\"❌ Error verifying payment:\", err);\r\n    return res.status(500).json({\r\n      success: false,\r\n      message: \"Payment verification failed\",\r\n      error: err.message,\r\n    });\r\n  }\r\n});\r\n\r\n\r\nmodule.exports = router;"],"mappings":";;AAAA;AACA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAME,IAAI,GAAGF,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMG,SAAS,GAAGH,OAAO,CAAC,oBAAoB,CAAC;AAE/C,MAAMI,MAAM,GAAGL,OAAO,CAACM,MAAM,CAAC,CAAC;;AAE/B;AACAD,MAAM,CAACE,IAAI,CAAC,SAAS,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACzC,IAAI;IACF,MAAM;MACJC,iBAAiB;MACjBC,mBAAmB;MACnBC,kBAAkB;MAClBC,YAAY;MACZC,aAAa;MACbC,aAAa;MACbC,eAAe;MACfC,KAAK;MACLC;IACF,CAAC,GAAGV,GAAG,CAACW,IAAI;;IAEZ;IACAC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEb,GAAG,CAACW,IAAI,CAAC;IAE3C,MAAMG,IAAI,GAAGZ,iBAAiB,GAAG,GAAG,GAAGC,mBAAmB;IAC1D,MAAMY,YAAY,GAAGrB,MAAM,CACxBsB,UAAU,CAAC,QAAQ,EAAEC,OAAO,CAACC,GAAG,CAACC,mBAAmB,CAAC,CACrDC,MAAM,CAACN,IAAI,CAACO,QAAQ,CAAC,CAAC,CAAC,CACvBC,MAAM,CAAC,KAAK,CAAC;IAEhB,IAAIlB,kBAAkB,KAAKW,YAAY,EAAE;MACvC;MACA,MAAMQ,KAAK,GAAG;QACZC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;QACdrB,YAAY,EAAEA,YAAY,IAAI,SAAS;QACvCC,aAAa,EAAEA,aAAa,IAAI,KAAK;QACrCC,aAAa,EAAEA,aAAa,IAAI,KAAK;QACrCC,eAAe,EAAEA,eAAe,IAAI,KAAK;QACzCC,KAAK,EAAEA,KAAK,IAAI,EAAE;QAClBC,WAAW,EAAEA,WAAW,IAAI,CAAC;QAC7BiB,SAAS,EAAExB,mBAAmB;QAC9ByB,aAAa,EAAE,SAAS;QACxBC,IAAI,EAAE,IAAIJ,IAAI,CAAC,CAAC,CAACK,cAAc,CAAC;MAClC,CAAC;MAED,MAAMC,IAAI,GAAGC,QAAQ,CAACC,UAAU,CAAC;MACjCF,IAAI,CAACG,IAAI,CAACX,KAAK,CAAC;MAChBY,SAAS,CAACF,UAAU,EAAEF,IAAI,CAAC;;MAE3B;MACA,IAAI;QACF,MAAMnC,SAAS,CACbU,aAAa,EACb,oBAAoB,EACpB,SAASD,YAAY,4DAA4DkB,KAAK,CAACC,EAAE,aAAad,WAAW,qCACnH,CAAC;MACH,CAAC,CAAC,OAAO0B,CAAC,EAAE;QACVxB,OAAO,CAACyB,KAAK,CAAC,sBAAsB,EAAED,CAAC,CAAC;MAC1C;MAEA,OAAOnC,GAAG,CAACqC,IAAI,CAAC;QACdC,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,gCAAgC;QACzCjB;MACF,CAAC,CAAC;IACJ,CAAC,MAAM;MACLX,OAAO,CAAC6B,IAAI,CAAC,qBAAqB,EAAE;QAAErC,kBAAkB;QAAEW;MAAa,CAAC,CAAC;MACzE,OAAOd,GAAG,CAACyC,MAAM,CAAC,GAAG,CAAC,CAACJ,IAAI,CAAC;QAC1BC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC,CAAC,OAAOG,GAAG,EAAE;IACZ/B,OAAO,CAACyB,KAAK,CAAC,4BAA4B,EAAEM,GAAG,CAAC;IAChD,OAAO1C,GAAG,CAACyC,MAAM,CAAC,GAAG,CAAC,CAACJ,IAAI,CAAC;MAC1BC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE,6BAA6B;MACtCH,KAAK,EAAEM,GAAG,CAACH;IACb,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AAGFI,MAAM,CAACC,OAAO,GAAGhD,MAAM","ignoreList":[]}},"mtime":1757676662267},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\controllers\\\\adminController.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\nconst Order = require(\"../models/Orders\");\n\n// 🟢 Auth: login\nexports.login = (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n  if (username === process.env.ADMIN_USER && password === process.env.ADMIN_PASS) {\n    req.session.admin = true;\n    return res.json({\n      success: true\n    });\n  }\n  res.status(401).json({\n    success: false,\n    message: \"Invalid credentials\"\n  });\n};\n\n// 🟢 Auth: logout\nexports.logout = (req, res) => {\n  req.session.destroy();\n  res.json({\n    success: true,\n    message: \"Logged out\"\n  });\n};\n\n// 🟢 Auth: check session\nexports.check = (req, res) => {\n  res.json({\n    loggedIn: !!req.session.admin\n  });\n};\n\n// 🟢 Get all orders from MongoDB\nexports.getOrders = async (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const orders = await Order.find().sort({\n      date: -1\n    }); // latest first\n    res.json(orders);\n  } catch (err) {\n    console.error(\"Error fetching orders from MongoDB:\", err);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch orders\"\n    });\n  }\n};\n\n// 🟢 Get customers\nexports.getCustomers = (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const orders = readJSON(ordersFile);\n    const customers = orders.map(order => ({\n      name: order.customerName,\n      email: order.customerEmail,\n      phone: order.customerPhone,\n      address: order.customerAddress\n    }));\n    res.json(customers);\n  } catch (err) {\n    console.error(\"❌ Error reading customers:\", err);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to load customers\"\n    });\n  }\n};\n\n// 🟢 Get profile\nexports.getProfile = (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const admin = readJSON(adminFile);\n    const {\n      password,\n      ...safe\n    } = admin;\n    res.json(safe);\n  } catch (e) {\n    console.error(e);\n    res.status(500).json({\n      error: \"Failed to read admin data\"\n    });\n  }\n};\n\n// 🟢 Update profile\nexports.updateProfile = (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const incoming = req.body || {};\n    const admin = readJSON(adminFile);\n    const allowed = [\"name\", \"email\", \"phone\", \"address\", \"profilePic\", \"role\"];\n    allowed.forEach(k => {\n      if (k in incoming) admin[k] = incoming[k];\n    });\n    writeJSON(adminFile, admin);\n    const {\n      password,\n      ...safe\n    } = admin;\n    res.json({\n      success: true,\n      admin: safe\n    });\n  } catch (e) {\n    console.error(e);\n    res.status(500).json({\n      error: \"Failed to update admin data\"\n    });\n  }\n};\n\n// 🟢 Update password\nexports.updatePassword = (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const {\n      current,\n      newPass\n    } = req.body || {};\n    if (!current || !newPass) return res.status(400).json({\n      error: \"current and newPass required\"\n    });\n    const admin = readJSON(adminFile);\n    if (admin.password !== current) return res.status(400).json({\n      error: \"Current password incorrect\"\n    });\n    admin.password = newPass;\n    writeJSON(adminFile, admin);\n    res.json({\n      success: true,\n      message: \"Password updated\"\n    });\n  } catch (e) {\n    console.error(e);\n    res.status(500).json({\n      error: \"Failed to update password\"\n    });\n  }\n};\n\n// 🟢 Assign delivery\nexports.assignDelivery = async (req, res) => {\n  if (!req.session.admin) return res.status(401).json({\n    success: false,\n    message: \"Unauthorized\"\n  });\n  try {\n    const {\n      orderId\n    } = req.body;\n    if (!orderId) return res.status(400).json({\n      success: false,\n      message: \"orderId required\"\n    });\n    const order = await Order.findById(orderId);\n    if (!order) return res.status(404).json({\n      success: false,\n      message: \"Order not found\"\n    });\n\n    // Update status\n    order.paymentStatus = \"shipped\"; // or \"delivery\" as per your workflow\n    await order.save();\n    return res.json({\n      success: true,\n      message: `Order #${orderId} assigned to delivery`,\n      order\n    });\n  } catch (err) {\n    console.error(\"assignDelivery error:\", err);\n    return res.status(500).json({\n      success: false,\n      message: \"Failed to assign delivery\"\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPcmRlciIsInJlcXVpcmUiLCJleHBvcnRzIiwibG9naW4iLCJyZXEiLCJyZXMiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYm9keSIsInByb2Nlc3MiLCJlbnYiLCJBRE1JTl9VU0VSIiwiQURNSU5fUEFTUyIsInNlc3Npb24iLCJhZG1pbiIsImpzb24iLCJzdWNjZXNzIiwic3RhdHVzIiwibWVzc2FnZSIsImxvZ291dCIsImRlc3Ryb3kiLCJjaGVjayIsImxvZ2dlZEluIiwiZ2V0T3JkZXJzIiwib3JkZXJzIiwiZmluZCIsInNvcnQiLCJkYXRlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZ2V0Q3VzdG9tZXJzIiwicmVhZEpTT04iLCJvcmRlcnNGaWxlIiwiY3VzdG9tZXJzIiwibWFwIiwib3JkZXIiLCJuYW1lIiwiY3VzdG9tZXJOYW1lIiwiZW1haWwiLCJjdXN0b21lckVtYWlsIiwicGhvbmUiLCJjdXN0b21lclBob25lIiwiYWRkcmVzcyIsImN1c3RvbWVyQWRkcmVzcyIsImdldFByb2ZpbGUiLCJhZG1pbkZpbGUiLCJzYWZlIiwiZSIsInVwZGF0ZVByb2ZpbGUiLCJpbmNvbWluZyIsImFsbG93ZWQiLCJmb3JFYWNoIiwiayIsIndyaXRlSlNPTiIsInVwZGF0ZVBhc3N3b3JkIiwiY3VycmVudCIsIm5ld1Bhc3MiLCJhc3NpZ25EZWxpdmVyeSIsIm9yZGVySWQiLCJmaW5kQnlJZCIsInBheW1lbnRTdGF0dXMiLCJzYXZlIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGFyY2hhXFxNdXNpY1xcRGV2ZWxvcGVtbnRcXGRjZmFybVxcYmFja2VuZFxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiYWRtaW5Db250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IE9yZGVyID0gcmVxdWlyZShcIi4uL21vZGVscy9PcmRlcnNcIik7XHJcblxyXG4vLyDwn5+iIEF1dGg6IGxvZ2luXHJcbmV4cG9ydHMubG9naW4gPSAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgaWYgKHVzZXJuYW1lID09PSBwcm9jZXNzLmVudi5BRE1JTl9VU0VSICYmIHBhc3N3b3JkID09PSBwcm9jZXNzLmVudi5BRE1JTl9QQVNTKSB7XHJcbiAgICByZXEuc2Vzc2lvbi5hZG1pbiA9IHRydWU7XHJcbiAgICByZXR1cm4gcmVzLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gIH1cclxuICByZXMuc3RhdHVzKDQwMSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkludmFsaWQgY3JlZGVudGlhbHNcIiB9KTtcclxufTtcclxuXHJcbi8vIPCfn6IgQXV0aDogbG9nb3V0XHJcbmV4cG9ydHMubG9nb3V0ID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVxLnNlc3Npb24uZGVzdHJveSgpO1xyXG4gIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJMb2dnZWQgb3V0XCIgfSk7XHJcbn07XHJcblxyXG4vLyDwn5+iIEF1dGg6IGNoZWNrIHNlc3Npb25cclxuZXhwb3J0cy5jaGVjayA9IChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5qc29uKHsgbG9nZ2VkSW46ICEhcmVxLnNlc3Npb24uYWRtaW4gfSk7XHJcbn07XHJcblxyXG4vLyDwn5+iIEdldCBhbGwgb3JkZXJzIGZyb20gTW9uZ29EQlxyXG5leHBvcnRzLmdldE9yZGVycyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGlmICghcmVxLnNlc3Npb24uYWRtaW4pXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoKS5zb3J0KHsgZGF0ZTogLTEgfSk7IC8vIGxhdGVzdCBmaXJzdFxyXG4gICAgcmVzLmpzb24ob3JkZXJzKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBvcmRlcnMgZnJvbSBNb25nb0RCOlwiLCBlcnIpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJGYWlsZWQgdG8gZmV0Y2ggb3JkZXJzXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g8J+foiBHZXQgY3VzdG9tZXJzXHJcbmV4cG9ydHMuZ2V0Q3VzdG9tZXJzID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgaWYgKCFyZXEuc2Vzc2lvbi5hZG1pbilcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBvcmRlcnMgPSByZWFkSlNPTihvcmRlcnNGaWxlKTtcclxuICAgIGNvbnN0IGN1c3RvbWVycyA9IG9yZGVycy5tYXAob3JkZXIgPT4gKHtcclxuICAgICAgbmFtZTogb3JkZXIuY3VzdG9tZXJOYW1lLFxyXG4gICAgICBlbWFpbDogb3JkZXIuY3VzdG9tZXJFbWFpbCxcclxuICAgICAgcGhvbmU6IG9yZGVyLmN1c3RvbWVyUGhvbmUsXHJcbiAgICAgIGFkZHJlc3M6IG9yZGVyLmN1c3RvbWVyQWRkcmVzcyxcclxuICAgIH0pKTtcclxuICAgIHJlcy5qc29uKGN1c3RvbWVycyk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVycm9yIHJlYWRpbmcgY3VzdG9tZXJzOlwiLCBlcnIpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJGYWlsZWQgdG8gbG9hZCBjdXN0b21lcnNcIiB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vLyDwn5+iIEdldCBwcm9maWxlXHJcbmV4cG9ydHMuZ2V0UHJvZmlsZSA9IChyZXEsIHJlcykgPT4ge1xyXG4gIGlmICghcmVxLnNlc3Npb24uYWRtaW4pXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYWRtaW4gPSByZWFkSlNPTihhZG1pbkZpbGUpO1xyXG4gICAgY29uc3QgeyBwYXNzd29yZCwgLi4uc2FmZSB9ID0gYWRtaW47XHJcbiAgICByZXMuanNvbihzYWZlKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogXCJGYWlsZWQgdG8gcmVhZCBhZG1pbiBkYXRhXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g8J+foiBVcGRhdGUgcHJvZmlsZVxyXG5leHBvcnRzLnVwZGF0ZVByb2ZpbGUgPSAocmVxLCByZXMpID0+IHtcclxuICBpZiAoIXJlcS5zZXNzaW9uLmFkbWluKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGluY29taW5nID0gcmVxLmJvZHkgfHwge307XHJcbiAgICBjb25zdCBhZG1pbiA9IHJlYWRKU09OKGFkbWluRmlsZSk7XHJcbiAgICBjb25zdCBhbGxvd2VkID0gW1wibmFtZVwiLCBcImVtYWlsXCIsIFwicGhvbmVcIiwgXCJhZGRyZXNzXCIsIFwicHJvZmlsZVBpY1wiLCBcInJvbGVcIl07XHJcbiAgICBhbGxvd2VkLmZvckVhY2goayA9PiB7XHJcbiAgICAgIGlmIChrIGluIGluY29taW5nKSBhZG1pbltrXSA9IGluY29taW5nW2tdO1xyXG4gICAgfSk7XHJcbiAgICB3cml0ZUpTT04oYWRtaW5GaWxlLCBhZG1pbik7XHJcbiAgICBjb25zdCB7IHBhc3N3b3JkLCAuLi5zYWZlIH0gPSBhZG1pbjtcclxuICAgIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgYWRtaW46IHNhZmUgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSBhZG1pbiBkYXRhXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8g8J+foiBVcGRhdGUgcGFzc3dvcmRcclxuZXhwb3J0cy51cGRhdGVQYXNzd29yZCA9IChyZXEsIHJlcykgPT4ge1xyXG4gIGlmICghcmVxLnNlc3Npb24uYWRtaW4pXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBjdXJyZW50LCBuZXdQYXNzIH0gPSByZXEuYm9keSB8fCB7fTtcclxuICAgIGlmICghY3VycmVudCB8fCAhbmV3UGFzcylcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiY3VycmVudCBhbmQgbmV3UGFzcyByZXF1aXJlZFwiIH0pO1xyXG4gICAgY29uc3QgYWRtaW4gPSByZWFkSlNPTihhZG1pbkZpbGUpO1xyXG4gICAgaWYgKGFkbWluLnBhc3N3b3JkICE9PSBjdXJyZW50KVxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJDdXJyZW50IHBhc3N3b3JkIGluY29ycmVjdFwiIH0pO1xyXG4gICAgYWRtaW4ucGFzc3dvcmQgPSBuZXdQYXNzO1xyXG4gICAgd3JpdGVKU09OKGFkbWluRmlsZSwgYWRtaW4pO1xyXG4gICAgcmVzLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIHVwZGF0ZWRcIiB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogXCJGYWlsZWQgdG8gdXBkYXRlIHBhc3N3b3JkXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbi8vIPCfn6IgQXNzaWduIGRlbGl2ZXJ5XHJcbmV4cG9ydHMuYXNzaWduRGVsaXZlcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBpZiAoIXJlcS5zZXNzaW9uLmFkbWluKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG9yZGVySWQgfSA9IHJlcS5ib2R5O1xyXG4gICAgaWYgKCFvcmRlcklkKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJvcmRlcklkIHJlcXVpcmVkXCIgfSk7XHJcblxyXG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChvcmRlcklkKTtcclxuICAgIGlmICghb3JkZXIpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIk9yZGVyIG5vdCBmb3VuZFwiIH0pO1xyXG5cclxuICAgIC8vIFVwZGF0ZSBzdGF0dXNcclxuICAgIG9yZGVyLnBheW1lbnRTdGF0dXMgPSBcInNoaXBwZWRcIjsgLy8gb3IgXCJkZWxpdmVyeVwiIGFzIHBlciB5b3VyIHdvcmtmbG93XHJcbiAgICBhd2FpdCBvcmRlci5zYXZlKCk7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogYE9yZGVyICMke29yZGVySWR9IGFzc2lnbmVkIHRvIGRlbGl2ZXJ5YCwgb3JkZXIgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiYXNzaWduRGVsaXZlcnkgZXJyb3I6XCIsIGVycik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJGYWlsZWQgdG8gYXNzaWduIGRlbGl2ZXJ5XCIgfSk7XHJcbiAgfVxyXG59OyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQzs7QUFFekM7QUFDQUMsT0FBTyxDQUFDQyxLQUFLLEdBQUcsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDNUIsTUFBTTtJQUFFQyxRQUFRO0lBQUVDO0VBQVMsQ0FBQyxHQUFHSCxHQUFHLENBQUNJLElBQUk7RUFDdkMsSUFBSUYsUUFBUSxLQUFLRyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJSixRQUFRLEtBQUtFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxVQUFVLEVBQUU7SUFDOUVSLEdBQUcsQ0FBQ1MsT0FBTyxDQUFDQyxLQUFLLEdBQUcsSUFBSTtJQUN4QixPQUFPVCxHQUFHLENBQUNVLElBQUksQ0FBQztNQUFFQyxPQUFPLEVBQUU7SUFBSyxDQUFDLENBQUM7RUFDcEM7RUFDQVgsR0FBRyxDQUFDWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNGLElBQUksQ0FBQztJQUFFQyxPQUFPLEVBQUUsS0FBSztJQUFFRSxPQUFPLEVBQUU7RUFBc0IsQ0FBQyxDQUFDO0FBQzFFLENBQUM7O0FBRUQ7QUFDQWhCLE9BQU8sQ0FBQ2lCLE1BQU0sR0FBRyxDQUFDZixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUM3QkQsR0FBRyxDQUFDUyxPQUFPLENBQUNPLE9BQU8sQ0FBQyxDQUFDO0VBQ3JCZixHQUFHLENBQUNVLElBQUksQ0FBQztJQUFFQyxPQUFPLEVBQUUsSUFBSTtJQUFFRSxPQUFPLEVBQUU7RUFBYSxDQUFDLENBQUM7QUFDcEQsQ0FBQzs7QUFFRDtBQUNBaEIsT0FBTyxDQUFDbUIsS0FBSyxHQUFHLENBQUNqQixHQUFHLEVBQUVDLEdBQUcsS0FBSztF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","map":{"version":3,"names":["Order","require","exports","login","req","res","username","password","body","process","env","ADMIN_USER","ADMIN_PASS","session","admin","json","success","status","message","logout","destroy","check","loggedIn","getOrders","orders","find","sort","date","err","console","error","getCustomers","readJSON","ordersFile","customers","map","order","name","customerName","email","customerEmail","phone","customerPhone","address","customerAddress","getProfile","adminFile","safe","e","updateProfile","incoming","allowed","forEach","k","writeJSON","updatePassword","current","newPass","assignDelivery","orderId","findById","paymentStatus","save"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\controllers\\","sources":["adminController.js"],"sourcesContent":["const Order = require(\"../models/Orders\");\r\n\r\n// 🟢 Auth: login\r\nexports.login = (req, res) => {\r\n  const { username, password } = req.body;\r\n  if (username === process.env.ADMIN_USER && password === process.env.ADMIN_PASS) {\r\n    req.session.admin = true;\r\n    return res.json({ success: true });\r\n  }\r\n  res.status(401).json({ success: false, message: \"Invalid credentials\" });\r\n};\r\n\r\n// 🟢 Auth: logout\r\nexports.logout = (req, res) => {\r\n  req.session.destroy();\r\n  res.json({ success: true, message: \"Logged out\" });\r\n};\r\n\r\n// 🟢 Auth: check session\r\nexports.check = (req, res) => {\r\n  res.json({ loggedIn: !!req.session.admin });\r\n};\r\n\r\n// 🟢 Get all orders from MongoDB\r\nexports.getOrders = async (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n\r\n  try {\r\n    const orders = await Order.find().sort({ date: -1 }); // latest first\r\n    res.json(orders);\r\n  } catch (err) {\r\n    console.error(\"Error fetching orders from MongoDB:\", err);\r\n    res.status(500).json({ success: false, message: \"Failed to fetch orders\" });\r\n  }\r\n};\r\n\r\n// 🟢 Get customers\r\nexports.getCustomers = (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n  try {\r\n    const orders = readJSON(ordersFile);\r\n    const customers = orders.map(order => ({\r\n      name: order.customerName,\r\n      email: order.customerEmail,\r\n      phone: order.customerPhone,\r\n      address: order.customerAddress,\r\n    }));\r\n    res.json(customers);\r\n  } catch (err) {\r\n    console.error(\"❌ Error reading customers:\", err);\r\n    res.status(500).json({ success: false, message: \"Failed to load customers\" });\r\n  }\r\n};\r\n\r\n// 🟢 Get profile\r\nexports.getProfile = (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n  try {\r\n    const admin = readJSON(adminFile);\r\n    const { password, ...safe } = admin;\r\n    res.json(safe);\r\n  } catch (e) {\r\n    console.error(e);\r\n    res.status(500).json({ error: \"Failed to read admin data\" });\r\n  }\r\n};\r\n\r\n// 🟢 Update profile\r\nexports.updateProfile = (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n  try {\r\n    const incoming = req.body || {};\r\n    const admin = readJSON(adminFile);\r\n    const allowed = [\"name\", \"email\", \"phone\", \"address\", \"profilePic\", \"role\"];\r\n    allowed.forEach(k => {\r\n      if (k in incoming) admin[k] = incoming[k];\r\n    });\r\n    writeJSON(adminFile, admin);\r\n    const { password, ...safe } = admin;\r\n    res.json({ success: true, admin: safe });\r\n  } catch (e) {\r\n    console.error(e);\r\n    res.status(500).json({ error: \"Failed to update admin data\" });\r\n  }\r\n};\r\n\r\n// 🟢 Update password\r\nexports.updatePassword = (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n  try {\r\n    const { current, newPass } = req.body || {};\r\n    if (!current || !newPass)\r\n      return res.status(400).json({ error: \"current and newPass required\" });\r\n    const admin = readJSON(adminFile);\r\n    if (admin.password !== current)\r\n      return res.status(400).json({ error: \"Current password incorrect\" });\r\n    admin.password = newPass;\r\n    writeJSON(adminFile, admin);\r\n    res.json({ success: true, message: \"Password updated\" });\r\n  } catch (e) {\r\n    console.error(e);\r\n    res.status(500).json({ error: \"Failed to update password\" });\r\n  }\r\n};\r\n\r\n\r\n// 🟢 Assign delivery\r\nexports.assignDelivery = async (req, res) => {\r\n  if (!req.session.admin)\r\n    return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n\r\n  try {\r\n    const { orderId } = req.body;\r\n    if (!orderId) return res.status(400).json({ success: false, message: \"orderId required\" });\r\n\r\n    const order = await Order.findById(orderId);\r\n    if (!order) return res.status(404).json({ success: false, message: \"Order not found\" });\r\n\r\n    // Update status\r\n    order.paymentStatus = \"shipped\"; // or \"delivery\" as per your workflow\r\n    await order.save();\r\n\r\n    return res.json({ success: true, message: `Order #${orderId} assigned to delivery`, order });\r\n  } catch (err) {\r\n    console.error(\"assignDelivery error:\", err);\r\n    return res.status(500).json({ success: false, message: \"Failed to assign delivery\" });\r\n  }\r\n};"],"mappings":"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","ignoreList":[]}},"mtime":1757676547793},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\models\\\\Orders.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require(\"mongoose\");\nconst orderSchema = new mongoose.Schema({\n  customerName: String,\n  customerEmail: String,\n  customerPhone: String,\n  customerAddress: String,\n  items: [{\n    id: Number,\n    name: String,\n    qty: Number,\n    price: Number,\n    total: Number\n  }],\n  totalAmount: Number,\n  paymentId: String,\n  paymentStatus: {\n    type: String,\n    default: \"PENDING\"\n  },\n  date: {\n    type: Date,\n    default: Date.now\n  }\n});\nmodule.exports = mongoose.model(\"Order\", orderSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJvcmRlclNjaGVtYSIsIlNjaGVtYSIsImN1c3RvbWVyTmFtZSIsIlN0cmluZyIsImN1c3RvbWVyRW1haWwiLCJjdXN0b21lclBob25lIiwiY3VzdG9tZXJBZGRyZXNzIiwiaXRlbXMiLCJpZCIsIk51bWJlciIsIm5hbWUiLCJxdHkiLCJwcmljZSIsInRvdGFsIiwidG90YWxBbW91bnQiLCJwYXltZW50SWQiLCJwYXltZW50U3RhdHVzIiwidHlwZSIsImRlZmF1bHQiLCJkYXRlIiwiRGF0ZSIsIm5vdyIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxhcmNoYVxcTXVzaWNcXERldmVsb3BlbW50XFxkY2Zhcm1cXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJPcmRlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcblxyXG5jb25zdCBvcmRlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIGN1c3RvbWVyTmFtZTogU3RyaW5nLFxyXG4gIGN1c3RvbWVyRW1haWw6IFN0cmluZyxcclxuICBjdXN0b21lclBob25lOiBTdHJpbmcsXHJcbiAgY3VzdG9tZXJBZGRyZXNzOiBTdHJpbmcsXHJcbiAgaXRlbXM6IFtcclxuICAgIHtcclxuICAgICAgaWQ6IE51bWJlcixcclxuICAgICAgbmFtZTogU3RyaW5nLFxyXG4gICAgICBxdHk6IE51bWJlcixcclxuICAgICAgcHJpY2U6IE51bWJlcixcclxuICAgICAgdG90YWw6IE51bWJlcixcclxuICAgIH1cclxuICBdLFxyXG4gIHRvdGFsQW1vdW50OiBOdW1iZXIsXHJcbiAgcGF5bWVudElkOiBTdHJpbmcsXHJcbiAgcGF5bWVudFN0YXR1czogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IFwiUEVORElOR1wiIH0sXHJcbiAgZGF0ZTogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoXCJPcmRlclwiLCBvcmRlclNjaGVtYSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUVwQyxNQUFNQyxXQUFXLEdBQUcsSUFBSUYsUUFBUSxDQUFDRyxNQUFNLENBQUM7RUFDdENDLFlBQVksRUFBRUMsTUFBTTtFQUNwQkMsYUFBYSxFQUFFRCxNQUFNO0VBQ3JCRSxhQUFhLEVBQUVGLE1BQU07RUFDckJHLGVBQWUsRUFBRUgsTUFBTTtFQUN2QkksS0FBSyxFQUFFLENBQ0w7SUFDRUMsRUFBRSxFQUFFQyxNQUFNO0lBQ1ZDLElBQUksRUFBRVAsTUFBTTtJQUNaUSxHQUFHLEVBQUVGLE1BQU07SUFDWEcsS0FBSyxFQUFFSCxNQUFNO0lBQ2JJLEtBQUssRUFBRUo7RUFDVCxDQUFDLENBQ0Y7RUFDREssV0FBVyxFQUFFTCxNQUFNO0VBQ25CTSxTQUFTLEVBQUVaLE1BQU07RUFDakJhLGFBQWEsRUFBRTtJQUFFQyxJQUFJLEVBQUVkLE1BQU07SUFBRWUsT0FBTyxFQUFFO0VBQVUsQ0FBQztFQUNuREMsSUFBSSxFQUFFO0lBQUVGLElBQUksRUFBRUcsSUFBSTtJQUFFRixPQUFPLEVBQUVFLElBQUksQ0FBQ0M7RUFBSTtBQUN4QyxDQUFDLENBQUM7QUFFRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUd6QixRQUFRLENBQUMwQixLQUFLLENBQUMsT0FBTyxFQUFFeEIsV0FBVyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["mongoose","require","orderSchema","Schema","customerName","String","customerEmail","customerPhone","customerAddress","items","id","Number","name","qty","price","total","totalAmount","paymentId","paymentStatus","type","default","date","Date","now","module","exports","model"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\models\\","sources":["Orders.js"],"sourcesContent":["const mongoose = require(\"mongoose\");\r\n\r\nconst orderSchema = new mongoose.Schema({\r\n  customerName: String,\r\n  customerEmail: String,\r\n  customerPhone: String,\r\n  customerAddress: String,\r\n  items: [\r\n    {\r\n      id: Number,\r\n      name: String,\r\n      qty: Number,\r\n      price: Number,\r\n      total: Number,\r\n    }\r\n  ],\r\n  totalAmount: Number,\r\n  paymentId: String,\r\n  paymentStatus: { type: String, default: \"PENDING\" },\r\n  date: { type: Date, default: Date.now },\r\n});\r\n\r\nmodule.exports = mongoose.model(\"Order\", orderSchema);"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,WAAW,GAAG,IAAIF,QAAQ,CAACG,MAAM,CAAC;EACtCC,YAAY,EAAEC,MAAM;EACpBC,aAAa,EAAED,MAAM;EACrBE,aAAa,EAAEF,MAAM;EACrBG,eAAe,EAAEH,MAAM;EACvBI,KAAK,EAAE,CACL;IACEC,EAAE,EAAEC,MAAM;IACVC,IAAI,EAAEP,MAAM;IACZQ,GAAG,EAAEF,MAAM;IACXG,KAAK,EAAEH,MAAM;IACbI,KAAK,EAAEJ;EACT,CAAC,CACF;EACDK,WAAW,EAAEL,MAAM;EACnBM,SAAS,EAAEZ,MAAM;EACjBa,aAAa,EAAE;IAAEC,IAAI,EAAEd,MAAM;IAAEe,OAAO,EAAE;EAAU,CAAC;EACnDC,IAAI,EAAE;IAAEF,IAAI,EAAEG,IAAI;IAAEF,OAAO,EAAEE,IAAI,CAACC;EAAI;AACxC,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGzB,QAAQ,CAAC0B,KAAK,CAAC,OAAO,EAAExB,WAAW,CAAC","ignoreList":[]}},"mtime":1757509711019},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\orderRoutes.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\nconst {\n  createOrder,\n  verifyPayment,\n  getAllOrders\n} = require(\"../controllers/orderController\");\nconst sendEmail = require(\"../utils/sendEmail\");\nconst router = express.Router();\nrouter.post(\"/create\", createOrder);\nrouter.post(\"/verify\", verifyPayment);\n\n// Admin route to get all orders\nrouter.get(\"/admin/orders\", getAllOrders);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyZWF0ZU9yZGVyIiwidmVyaWZ5UGF5bWVudCIsImdldEFsbE9yZGVycyIsInNlbmRFbWFpbCIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJnZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGFyY2hhXFxNdXNpY1xcRGV2ZWxvcGVtbnRcXGRjZmFybVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3Qge2NyZWF0ZU9yZGVyLCB2ZXJpZnlQYXltZW50LCBnZXRBbGxPcmRlcnN9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL29yZGVyQ29udHJvbGxlclwiKTtcclxuY29uc3Qgc2VuZEVtYWlsID0gcmVxdWlyZShcIi4uL3V0aWxzL3NlbmRFbWFpbFwiKTtcclxuXHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5yb3V0ZXIucG9zdChcIi9jcmVhdGVcIiwgY3JlYXRlT3JkZXIpO1xyXG5yb3V0ZXIucG9zdChcIi92ZXJpZnlcIiwgdmVyaWZ5UGF5bWVudCk7XHJcblxyXG4vLyBBZG1pbiByb3V0ZSB0byBnZXQgYWxsIG9yZGVyc1xyXG5yb3V0ZXIuZ2V0KFwiL2FkbWluL29yZGVyc1wiLCBnZXRBbGxPcmRlcnMpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNO0VBQUNDLFdBQVc7RUFBRUMsYUFBYTtFQUFFQztBQUFZLENBQUMsR0FBR0gsT0FBTyxDQUFDLGdDQUFnQyxDQUFDO0FBQzVGLE1BQU1JLFNBQVMsR0FBR0osT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBRy9DLE1BQU1LLE1BQU0sR0FBR04sT0FBTyxDQUFDTyxNQUFNLENBQUMsQ0FBQztBQUMvQkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsU0FBUyxFQUFFTixXQUFXLENBQUM7QUFDbkNJLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFNBQVMsRUFBRUwsYUFBYSxDQUFDOztBQUVyQztBQUNBRyxNQUFNLENBQUNHLEdBQUcsQ0FBQyxlQUFlLEVBQUVMLFlBQVksQ0FBQztBQUV6Q00sTUFBTSxDQUFDQyxPQUFPLEdBQUdMLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","require","createOrder","verifyPayment","getAllOrders","sendEmail","router","Router","post","get","module","exports"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\routes\\","sources":["orderRoutes.js"],"sourcesContent":["const express = require(\"express\");\r\nconst {createOrder, verifyPayment, getAllOrders} = require(\"../controllers/orderController\");\r\nconst sendEmail = require(\"../utils/sendEmail\");\r\n\r\n\r\nconst router = express.Router();\r\nrouter.post(\"/create\", createOrder);\r\nrouter.post(\"/verify\", verifyPayment);\r\n\r\n// Admin route to get all orders\r\nrouter.get(\"/admin/orders\", getAllOrders);\r\n\r\nmodule.exports = router;"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EAACC,WAAW;EAAEC,aAAa;EAAEC;AAAY,CAAC,GAAGH,OAAO,CAAC,gCAAgC,CAAC;AAC5F,MAAMI,SAAS,GAAGJ,OAAO,CAAC,oBAAoB,CAAC;AAG/C,MAAMK,MAAM,GAAGN,OAAO,CAACO,MAAM,CAAC,CAAC;AAC/BD,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEN,WAAW,CAAC;AACnCI,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEL,aAAa,CAAC;;AAErC;AACAG,MAAM,CAACG,GAAG,CAAC,eAAe,EAAEL,YAAY,CAAC;AAEzCM,MAAM,CAACC,OAAO,GAAGL,MAAM","ignoreList":[]}},"mtime":1757910777801},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\controllers\\\\orderController.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\nconst crypto = require(\"crypto\");\nconst sendEmail = require(\"../utils/sendEmail\");\nconst Order = require(\"../models/Orders\");\n\n// Create Razorpay order\nconst createOrder = async (req, res) => {\n  try {\n    const {\n      totalAmount\n    } = req.body;\n    const options = {\n      amount: totalAmount * 100,\n      currency: \"INR\",\n      receipt: \"receipt_\" + Date.now()\n    };\n    const order = await req.app.locals.razorpay.orders.create(options);\n    res.json(order);\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({\n      message: \"Failed to create order\"\n    });\n  }\n};\n\n// Verify payment + save order to MongoDB\nconst verifyPayment = async (req, res) => {\n  try {\n    const {\n      razorpay_order_id,\n      razorpay_payment_id,\n      razorpay_signature,\n      customerName,\n      customerEmail,\n      customerPhone,\n      customerAddress,\n      items,\n      totalAmount\n    } = req.body;\n    const sign = razorpay_order_id + \"|\" + razorpay_payment_id;\n    const expectedSign = crypto.createHmac(\"sha256\", req.app.locals.razorpay.key_secret).update(sign.toString()).digest(\"hex\");\n    if (razorpay_signature !== expectedSign) {\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid signature\"\n      });\n    }\n    const order = new Order({\n      customerName,\n      customerEmail,\n      customerPhone,\n      customerAddress,\n      items,\n      totalAmount,\n      paymentId: razorpay_payment_id,\n      paymentStatus: \"SUCCESS\"\n    });\n    await order.save();\n    await sendEmail(customerEmail, \"Order Confirmation\", `Hello ${customerName},\\n\\nYour order has been placed successfully.\\nOrder ID: ${order._id}\\nTotal: ₹${totalAmount}`);\n    return res.json({\n      success: true,\n      message: \"Payment verified & order saved\",\n      order\n    });\n  } catch (err) {\n    console.error(\"❌ verifyPayment error:\", err);\n    res.status(500).json({\n      message: \"Payment verification failed\"\n    });\n  }\n};\n\n// Admin Get all orders from MongoDB\nconst getAllOrders = async (req, res) => {\n  try {\n    if (!req.session.admin) {\n      return res.status(401).json({\n        success: false,\n        message: \"Unauthorized\"\n      });\n    }\n    const orders = await Order.find().sort({\n      createdAt: -1\n    });\n    res.json({\n      success: true,\n      orders\n    });\n  } catch (err) {\n    console.error(\"❌ getAllOrders error:\", err);\n    res.status(500).json({\n      success: false,\n      message: \"Failed to fetch orders\"\n    });\n  }\n};\nmodule.exports = {\n  createOrder,\n  verifyPayment,\n  getAllOrders\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcnlwdG8iLCJyZXF1aXJlIiwic2VuZEVtYWlsIiwiT3JkZXIiLCJjcmVhdGVPcmRlciIsInJlcSIsInJlcyIsInRvdGFsQW1vdW50IiwiYm9keSIsIm9wdGlvbnMiLCJhbW91bnQiLCJjdXJyZW5jeSIsInJlY2VpcHQiLCJEYXRlIiwibm93Iiwib3JkZXIiLCJhcHAiLCJsb2NhbHMiLCJyYXpvcnBheSIsIm9yZGVycyIsImNyZWF0ZSIsImpzb24iLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGF0dXMiLCJtZXNzYWdlIiwidmVyaWZ5UGF5bWVudCIsInJhem9ycGF5X29yZGVyX2lkIiwicmF6b3JwYXlfcGF5bWVudF9pZCIsInJhem9ycGF5X3NpZ25hdHVyZSIsImN1c3RvbWVyTmFtZSIsImN1c3RvbWVyRW1haWwiLCJjdXN0b21lclBob25lIiwiY3VzdG9tZXJBZGRyZXNzIiwiaXRlbXMiLCJzaWduIiwiZXhwZWN0ZWRTaWduIiwiY3JlYXRlSG1hYyIsImtleV9zZWNyZXQiLCJ1cGRhdGUiLCJ0b1N0cmluZyIsImRpZ2VzdCIsInN1Y2Nlc3MiLCJwYXltZW50SWQiLCJwYXltZW50U3RhdHVzIiwic2F2ZSIsIl9pZCIsImdldEFsbE9yZGVycyIsInNlc3Npb24iLCJhZG1pbiIsImZpbmQiLCJzb3J0IiwiY3JlYXRlZEF0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxhcmNoYVxcTXVzaWNcXERldmVsb3BlbW50XFxkY2Zhcm1cXGJhY2tlbmRcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIm9yZGVyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjcnlwdG8gPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xyXG5jb25zdCBzZW5kRW1haWwgPSByZXF1aXJlKFwiLi4vdXRpbHMvc2VuZEVtYWlsXCIpO1xyXG5jb25zdCBPcmRlciA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvT3JkZXJzXCIpO1xyXG5cclxuLy8gQ3JlYXRlIFJhem9ycGF5IG9yZGVyXHJcbmNvbnN0IGNyZWF0ZU9yZGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdG90YWxBbW91bnQgfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgYW1vdW50OiB0b3RhbEFtb3VudCAqIDEwMCxcclxuICAgICAgY3VycmVuY3k6IFwiSU5SXCIsXHJcbiAgICAgIHJlY2VpcHQ6IFwicmVjZWlwdF9cIiArIERhdGUubm93KCksXHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCByZXEuYXBwLmxvY2Fscy5yYXpvcnBheS5vcmRlcnMuY3JlYXRlKG9wdGlvbnMpO1xyXG4gICAgcmVzLmpzb24ob3JkZXIpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkZhaWxlZCB0byBjcmVhdGUgb3JkZXJcIiB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBWZXJpZnkgcGF5bWVudCArIHNhdmUgb3JkZXIgdG8gTW9uZ29EQlxyXG5jb25zdCB2ZXJpZnlQYXltZW50ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgcmF6b3JwYXlfb3JkZXJfaWQsXHJcbiAgICAgIHJhem9ycGF5X3BheW1lbnRfaWQsXHJcbiAgICAgIHJhem9ycGF5X3NpZ25hdHVyZSxcclxuICAgICAgY3VzdG9tZXJOYW1lLFxyXG4gICAgICBjdXN0b21lckVtYWlsLFxyXG4gICAgICBjdXN0b21lclBob25lLFxyXG4gICAgICBjdXN0b21lckFkZHJlc3MsXHJcbiAgICAgIGl0ZW1zLFxyXG4gICAgICB0b3RhbEFtb3VudCxcclxuICAgIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBjb25zdCBzaWduID0gcmF6b3JwYXlfb3JkZXJfaWQgKyBcInxcIiArIHJhem9ycGF5X3BheW1lbnRfaWQ7XHJcbiAgICBjb25zdCBleHBlY3RlZFNpZ24gPSBjcnlwdG9cclxuICAgICAgLmNyZWF0ZUhtYWMoXCJzaGEyNTZcIiwgcmVxLmFwcC5sb2NhbHMucmF6b3JwYXkua2V5X3NlY3JldClcclxuICAgICAgLnVwZGF0ZShzaWduLnRvU3RyaW5nKCkpXHJcbiAgICAgIC5kaWdlc3QoXCJoZXhcIik7XHJcblxyXG4gICAgaWYgKHJhem9ycGF5X3NpZ25hdHVyZSAhPT0gZXhwZWN0ZWRTaWduKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkludmFsaWQgc2lnbmF0dXJlXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb3JkZXIgPSBuZXcgT3JkZXIoe1xyXG4gICAgICBjdXN0b21lck5hbWUsXHJcbiAgICAgIGN1c3RvbWVyRW1haWwsXHJcbiAgICAgIGN1c3RvbWVyUGhvbmUsXHJcbiAgICAgIGN1c3RvbWVyQWRkcmVzcyxcclxuICAgICAgaXRlbXMsXHJcbiAgICAgIHRvdGFsQW1vdW50LFxyXG4gICAgICBwYXltZW50SWQ6IHJhem9ycGF5X3BheW1lbnRfaWQsXHJcbiAgICAgIHBheW1lbnRTdGF0dXM6IFwiU1VDQ0VTU1wiLFxyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgb3JkZXIuc2F2ZSgpO1xyXG5cclxuICAgIGF3YWl0IHNlbmRFbWFpbChcclxuICAgICAgY3VzdG9tZXJFbWFpbCxcclxuICAgICAgXCJPcmRlciBDb25maXJtYXRpb25cIixcclxuICAgICAgYEhlbGxvICR7Y3VzdG9tZXJOYW1lfSxcXG5cXG5Zb3VyIG9yZGVyIGhhcyBiZWVuIHBsYWNlZCBzdWNjZXNzZnVsbHkuXFxuT3JkZXIgSUQ6ICR7b3JkZXIuX2lkfVxcblRvdGFsOiDigrkke3RvdGFsQW1vdW50fWBcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJQYXltZW50IHZlcmlmaWVkICYgb3JkZXIgc2F2ZWRcIiwgb3JkZXIgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIHZlcmlmeVBheW1lbnQgZXJyb3I6XCIsIGVycik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiUGF5bWVudCB2ZXJpZmljYXRpb24gZmFpbGVkXCIgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbi8vIEFkbWluIEdldCBhbGwgb3JkZXJzIGZyb20gTW9uZ29EQlxyXG5jb25zdCBnZXRBbGxPcmRlcnMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgaWYgKCFyZXEuc2Vzc2lvbi5hZG1pbikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoKS5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KTtcclxuICAgIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgb3JkZXJzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBnZXRBbGxPcmRlcnMgZXJyb3I6XCIsIGVycik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkZhaWxlZCB0byBmZXRjaCBvcmRlcnNcIiB9KTtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgY3JlYXRlT3JkZXIsIHZlcmlmeVBheW1lbnQsIGdldEFsbE9yZGVycyB9OyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsTUFBTUMsU0FB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","map":{"version":3,"names":["crypto","require","sendEmail","Order","createOrder","req","res","totalAmount","body","options","amount","currency","receipt","Date","now","order","app","locals","razorpay","orders","create","json","err","console","error","status","message","verifyPayment","razorpay_order_id","razorpay_payment_id","razorpay_signature","customerName","customerEmail","customerPhone","customerAddress","items","sign","expectedSign","createHmac","key_secret","update","toString","digest","success","paymentId","paymentStatus","save","_id","getAllOrders","session","admin","find","sort","createdAt","module","exports"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\controllers\\","sources":["orderController.js"],"sourcesContent":["const crypto = require(\"crypto\");\r\nconst sendEmail = require(\"../utils/sendEmail\");\r\nconst Order = require(\"../models/Orders\");\r\n\r\n// Create Razorpay order\r\nconst createOrder = async (req, res) => {\r\n  try {\r\n    const { totalAmount } = req.body;\r\n    const options = {\r\n      amount: totalAmount * 100,\r\n      currency: \"INR\",\r\n      receipt: \"receipt_\" + Date.now(),\r\n    };\r\n    const order = await req.app.locals.razorpay.orders.create(options);\r\n    res.json(order);\r\n  } catch (err) {\r\n    console.error(err);\r\n    res.status(500).json({ message: \"Failed to create order\" });\r\n  }\r\n};\r\n\r\n// Verify payment + save order to MongoDB\r\nconst verifyPayment = async (req, res) => {\r\n  try {\r\n    const {\r\n      razorpay_order_id,\r\n      razorpay_payment_id,\r\n      razorpay_signature,\r\n      customerName,\r\n      customerEmail,\r\n      customerPhone,\r\n      customerAddress,\r\n      items,\r\n      totalAmount,\r\n    } = req.body;\r\n\r\n    const sign = razorpay_order_id + \"|\" + razorpay_payment_id;\r\n    const expectedSign = crypto\r\n      .createHmac(\"sha256\", req.app.locals.razorpay.key_secret)\r\n      .update(sign.toString())\r\n      .digest(\"hex\");\r\n\r\n    if (razorpay_signature !== expectedSign) {\r\n      return res.status(400).json({ success: false, message: \"Invalid signature\" });\r\n    }\r\n\r\n    const order = new Order({\r\n      customerName,\r\n      customerEmail,\r\n      customerPhone,\r\n      customerAddress,\r\n      items,\r\n      totalAmount,\r\n      paymentId: razorpay_payment_id,\r\n      paymentStatus: \"SUCCESS\",\r\n    });\r\n\r\n    await order.save();\r\n\r\n    await sendEmail(\r\n      customerEmail,\r\n      \"Order Confirmation\",\r\n      `Hello ${customerName},\\n\\nYour order has been placed successfully.\\nOrder ID: ${order._id}\\nTotal: ₹${totalAmount}`\r\n    );\r\n\r\n    return res.json({ success: true, message: \"Payment verified & order saved\", order });\r\n  } catch (err) {\r\n    console.error(\"❌ verifyPayment error:\", err);\r\n    res.status(500).json({ message: \"Payment verification failed\" });\r\n  }\r\n};\r\n\r\n\r\n// Admin Get all orders from MongoDB\r\nconst getAllOrders = async (req, res) => {\r\n  try {\r\n    if (!req.session.admin) {\r\n      return res.status(401).json({ success: false, message: \"Unauthorized\" });\r\n    }\r\n    const orders = await Order.find().sort({ createdAt: -1 });\r\n    res.json({ success: true, orders });\r\n  } catch (err) {\r\n    console.error(\"❌ getAllOrders error:\", err);\r\n    res.status(500).json({ success: false, message: \"Failed to fetch orders\" });\r\n  }\r\n};\r\n\r\nmodule.exports = { createOrder, verifyPayment, getAllOrders };"],"mappings":"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","ignoreList":[]}},"mtime":1757522144669},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\utils\\\\sendEmail.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\nconst {\n  configDotenv\n} = require(\"dotenv\");\nconst nodemailer = require(\"nodemailer\");\nconsole.log(\"EMAIL_USER:\", process.env.EMAIL_USER);\nconsole.log(\"EMAIL_PASS exists?\", !!process.env.EMAIL_PASS);\nconst transporter = nodemailer.createTransport({\n  service: \"gmail\",\n  auth: {\n    user: process.env.EMAIL_USER,\n    pass: process.env.EMAIL_PASS\n  }\n});\nasync function sendEmail(to, subject, text) {\n  await transporter.sendMail({\n    from: process.env.EMAIL_USER,\n    to,\n    subject,\n    text\n  });\n}\nmodule.exports = sendEmail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWdEb3RlbnYiLCJyZXF1aXJlIiwibm9kZW1haWxlciIsImNvbnNvbGUiLCJsb2ciLCJwcm9jZXNzIiwiZW52IiwiRU1BSUxfVVNFUiIsIkVNQUlMX1BBU1MiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJhdXRoIiwidXNlciIsInBhc3MiLCJzZW5kRW1haWwiLCJ0byIsInN1YmplY3QiLCJ0ZXh0Iiwic2VuZE1haWwiLCJmcm9tIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxhcmNoYVxcTXVzaWNcXERldmVsb3BlbW50XFxkY2Zhcm1cXGJhY2tlbmRcXHV0aWxzXFwiLCJzb3VyY2VzIjpbInNlbmRFbWFpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGNvbmZpZ0RvdGVudiB9ID0gcmVxdWlyZShcImRvdGVudlwiKTtcclxuY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpO1xyXG5cclxuXHJcbmNvbnNvbGUubG9nKFwiRU1BSUxfVVNFUjpcIiwgcHJvY2Vzcy5lbnYuRU1BSUxfVVNFUik7XHJcbmNvbnNvbGUubG9nKFwiRU1BSUxfUEFTUyBleGlzdHM/XCIsICEhcHJvY2Vzcy5lbnYuRU1BSUxfUEFTUyk7XHJcblxyXG5jb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuICBzZXJ2aWNlOiBcImdtYWlsXCIsXHJcbiAgYXV0aDoge1xyXG4gICAgdXNlcjogcHJvY2Vzcy5lbnYuRU1BSUxfVVNFUixcclxuICAgIHBhc3M6IHByb2Nlc3MuZW52LkVNQUlMX1BBU1MsXHJcbiAgfSxcclxufSk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZW5kRW1haWwodG8sIHN1YmplY3QsIHRleHQpIHtcclxuICBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbCh7XHJcbiAgICBmcm9tOiBwcm9jZXNzLmVudi5FTUFJTF9VU0VSLFxyXG4gICAgdG8sXHJcbiAgICBzdWJqZWN0LFxyXG4gICAgdGV4dCxcclxuICB9KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBzZW5kRW1haWw7Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU07RUFBRUE7QUFBYSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDMUMsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMsWUFBWSxDQUFDO0FBR3hDRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxhQUFhLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVLENBQUM7QUFDbERKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9CQUFvQixFQUFFLENBQUMsQ0FBQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFVBQVUsQ0FBQztBQUUzRCxNQUFNQyxXQUFXLEdBQUdQLFVBQVUsQ0FBQ1EsZUFBZSxDQUFDO0VBQzdDQyxPQUFPLEVBQUUsT0FBTztFQUNoQkMsSUFBSSxFQUFFO0lBQ0pDLElBQUksRUFBRVIsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVU7SUFDNUJPLElBQUksRUFBRVQsT0FBTyxDQUFDQyxHQUFHLENBQUNFO0VBQ3BCO0FBQ0YsQ0FBQyxDQUFDO0FBRUYsZUFBZU8sU0FBU0EsQ0FBQ0MsRUFBRSxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBRTtFQUMxQyxNQUFNVCxXQUFXLENBQUNVLFFBQVEsQ0FBQztJQUN6QkMsSUFBSSxFQUFFZixPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVTtJQUM1QlMsRUFBRTtJQUNGQyxPQUFPO0lBQ1BDO0VBQ0YsQ0FBQyxDQUFDO0FBQ0o7QUFFQUcsTUFBTSxDQUFDQyxPQUFPLEdBQUdQLFNBQVMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["configDotenv","require","nodemailer","console","log","process","env","EMAIL_USER","EMAIL_PASS","transporter","createTransport","service","auth","user","pass","sendEmail","to","subject","text","sendMail","from","module","exports"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\utils\\","sources":["sendEmail.js"],"sourcesContent":["const { configDotenv } = require(\"dotenv\");\r\nconst nodemailer = require(\"nodemailer\");\r\n\r\n\r\nconsole.log(\"EMAIL_USER:\", process.env.EMAIL_USER);\r\nconsole.log(\"EMAIL_PASS exists?\", !!process.env.EMAIL_PASS);\r\n\r\nconst transporter = nodemailer.createTransport({\r\n  service: \"gmail\",\r\n  auth: {\r\n    user: process.env.EMAIL_USER,\r\n    pass: process.env.EMAIL_PASS,\r\n  },\r\n});\r\n\r\nasync function sendEmail(to, subject, text) {\r\n  await transporter.sendMail({\r\n    from: process.env.EMAIL_USER,\r\n    to,\r\n    subject,\r\n    text,\r\n  });\r\n}\r\n\r\nmodule.exports = sendEmail;"],"mappings":";;AAAA,MAAM;EAAEA;AAAa,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC1C,MAAMC,UAAU,GAAGD,OAAO,CAAC,YAAY,CAAC;AAGxCE,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEC,OAAO,CAACC,GAAG,CAACC,UAAU,CAAC;AAClDJ,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE,CAAC,CAACC,OAAO,CAACC,GAAG,CAACE,UAAU,CAAC;AAE3D,MAAMC,WAAW,GAAGP,UAAU,CAACQ,eAAe,CAAC;EAC7CC,OAAO,EAAE,OAAO;EAChBC,IAAI,EAAE;IACJC,IAAI,EAAER,OAAO,CAACC,GAAG,CAACC,UAAU;IAC5BO,IAAI,EAAET,OAAO,CAACC,GAAG,CAACE;EACpB;AACF,CAAC,CAAC;AAEF,eAAeO,SAASA,CAACC,EAAE,EAAEC,OAAO,EAAEC,IAAI,EAAE;EAC1C,MAAMT,WAAW,CAACU,QAAQ,CAAC;IACzBC,IAAI,EAAEf,OAAO,CAACC,GAAG,CAACC,UAAU;IAC5BS,EAAE;IACFC,OAAO;IACPC;EACF,CAAC,CAAC;AACJ;AAEAG,MAAM,CAACC,OAAO,GAAGP,SAAS","ignoreList":[]}},"mtime":1757698214276},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\productRoutes.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGFyY2hhXFxNdXNpY1xcRGV2ZWxvcGVtbnRcXGRjZmFybVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiIl0sIm1hcHBpbmdzIjoiIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":[],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\routes\\","sources":["productRoutes.js"],"sourcesContent":[""],"mappings":"","ignoreList":[]}},"mtime":1757862839943},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"filename\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\\\\routes\\\\paymentRoutes.js\",\"targets\":{\"chrome\":\"139.0.0\",\"firefox\":\"142.0.0\",\"safari\":\"18.5.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\archa\\\\Music\\\\Developemnt\\\\dcfarm\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.3:development":{"value":{"code":"\"use strict\";\n\n// routes/paymentRoutes.js\nconst express = require(\"express\");\nconst crypto = require(\"crypto\");\nconst path = require(\"path\");\nconst sendEmail = require(\"../utils/sendEmail\");\nconst router = express.Router();\n\n// ✅ Verify payment\nrouter.post(\"/verify\", async (req, res) => {\n  try {\n    const {\n      razorpay_order_id,\n      razorpay_payment_id,\n      razorpay_signature,\n      customerName,\n      customerEmail,\n      customerPhone,\n      customerAddress,\n      items,\n      totalAmount\n    } = req.body;\n\n    // Log incoming payload for debugging\n    console.log(\"➡️ Verify Payload:\", req.body);\n    const sign = razorpay_order_id + \"|\" + razorpay_payment_id;\n    const expectedSign = crypto.createHmac(\"sha256\", process.env.RAZORPAY_KEY_SECRET).update(sign.toString()).digest(\"hex\");\n    if (razorpay_signature === expectedSign) {\n      // ✅ Payment verified\n      const order = {\n        id: Date.now(),\n        customerName: customerName || \"Unknown\",\n        customerEmail: customerEmail || \"N/A\",\n        customerPhone: customerPhone || \"N/A\",\n        customerAddress: customerAddress || \"N/A\",\n        items: items || [],\n        totalAmount: totalAmount || 0,\n        paymentId: razorpay_payment_id,\n        paymentStatus: \"SUCCESS\",\n        date: new Date().toLocaleString()\n      };\n      const data = readJSON(ordersFile);\n      data.push(order);\n      writeJSON(ordersFile, data);\n\n      // Try sending email\n      try {\n        await sendEmail(customerEmail, \"Order Confirmation\", `Hello ${customerName},\\n\\nYour order has been placed successfully.\\nOrder ID: ${order.id}\\nTotal: ₹${totalAmount}\\n\\nThank you for shopping with us!`);\n      } catch (e) {\n        console.error(\"❌ Email send failed:\", e);\n      }\n      return res.json({\n        success: true,\n        message: \"Payment verified & order saved\",\n        order\n      });\n    } else {\n      console.warn(\"❌ Invalid signature\", {\n        razorpay_signature,\n        expectedSign\n      });\n      return res.status(400).json({\n        success: false,\n        message: \"Invalid signature\"\n      });\n    }\n  } catch (err) {\n    console.error(\"❌ Error verifying payment:\", err);\n    return res.status(500).json({\n      success: false,\n      message: \"Payment verification failed\",\n      error: err.message\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNyeXB0byIsInBhdGgiLCJzZW5kRW1haWwiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwicmVxIiwicmVzIiwicmF6b3JwYXlfb3JkZXJfaWQiLCJyYXpvcnBheV9wYXltZW50X2lkIiwicmF6b3JwYXlfc2lnbmF0dXJlIiwiY3VzdG9tZXJOYW1lIiwiY3VzdG9tZXJFbWFpbCIsImN1c3RvbWVyUGhvbmUiLCJjdXN0b21lckFkZHJlc3MiLCJpdGVtcyIsInRvdGFsQW1vdW50IiwiYm9keSIsImNvbnNvbGUiLCJsb2ciLCJzaWduIiwiZXhwZWN0ZWRTaWduIiwiY3JlYXRlSG1hYyIsInByb2Nlc3MiLCJlbnYiLCJSQVpPUlBBWV9LRVlfU0VDUkVUIiwidXBkYXRlIiwidG9TdHJpbmciLCJkaWdlc3QiLCJvcmRlciIsImlkIiwiRGF0ZSIsIm5vdyIsInBheW1lbnRJZCIsInBheW1lbnRTdGF0dXMiLCJkYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJkYXRhIiwicmVhZEpTT04iLCJvcmRlcnNGaWxlIiwicHVzaCIsIndyaXRlSlNPTiIsImUiLCJlcnJvciIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsIndhcm4iLCJzdGF0dXMiLCJlcnIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGFyY2hhXFxNdXNpY1xcRGV2ZWxvcGVtbnRcXGRjZmFybVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbInBheW1lbnRSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcm91dGVzL3BheW1lbnRSb3V0ZXMuanNcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XHJcbmNvbnN0IHNlbmRFbWFpbCA9IHJlcXVpcmUoXCIuLi91dGlscy9zZW5kRW1haWxcIik7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuLy8g4pyFIFZlcmlmeSBwYXltZW50XHJcbnJvdXRlci5wb3N0KFwiL3ZlcmlmeVwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICByYXpvcnBheV9vcmRlcl9pZCxcclxuICAgICAgcmF6b3JwYXlfcGF5bWVudF9pZCxcclxuICAgICAgcmF6b3JwYXlfc2lnbmF0dXJlLFxyXG4gICAgICBjdXN0b21lck5hbWUsXHJcbiAgICAgIGN1c3RvbWVyRW1haWwsXHJcbiAgICAgIGN1c3RvbWVyUGhvbmUsXHJcbiAgICAgIGN1c3RvbWVyQWRkcmVzcyxcclxuICAgICAgaXRlbXMsXHJcbiAgICAgIHRvdGFsQW1vdW50LFxyXG4gICAgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIC8vIExvZyBpbmNvbWluZyBwYXlsb2FkIGZvciBkZWJ1Z2dpbmdcclxuICAgIGNvbnNvbGUubG9nKFwi4p6h77iPIFZlcmlmeSBQYXlsb2FkOlwiLCByZXEuYm9keSk7XHJcblxyXG4gICAgY29uc3Qgc2lnbiA9IHJhem9ycGF5X29yZGVyX2lkICsgXCJ8XCIgKyByYXpvcnBheV9wYXltZW50X2lkO1xyXG4gICAgY29uc3QgZXhwZWN0ZWRTaWduID0gY3J5cHRvXHJcbiAgICAgIC5jcmVhdGVIbWFjKFwic2hhMjU2XCIsIHByb2Nlc3MuZW52LlJBWk9SUEFZX0tFWV9TRUNSRVQpXHJcbiAgICAgIC51cGRhdGUoc2lnbi50b1N0cmluZygpKVxyXG4gICAgICAuZGlnZXN0KFwiaGV4XCIpO1xyXG5cclxuICAgIGlmIChyYXpvcnBheV9zaWduYXR1cmUgPT09IGV4cGVjdGVkU2lnbikge1xyXG4gICAgICAvLyDinIUgUGF5bWVudCB2ZXJpZmllZFxyXG4gICAgICBjb25zdCBvcmRlciA9IHtcclxuICAgICAgICBpZDogRGF0ZS5ub3coKSxcclxuICAgICAgICBjdXN0b21lck5hbWU6IGN1c3RvbWVyTmFtZSB8fCBcIlVua25vd25cIixcclxuICAgICAgICBjdXN0b21lckVtYWlsOiBjdXN0b21lckVtYWlsIHx8IFwiTi9BXCIsXHJcbiAgICAgICAgY3VzdG9tZXJQaG9uZTogY3VzdG9tZXJQaG9uZSB8fCBcIk4vQVwiLFxyXG4gICAgICAgIGN1c3RvbWVyQWRkcmVzczogY3VzdG9tZXJBZGRyZXNzIHx8IFwiTi9BXCIsXHJcbiAgICAgICAgaXRlbXM6IGl0ZW1zIHx8IFtdLFxyXG4gICAgICAgIHRvdGFsQW1vdW50OiB0b3RhbEFtb3VudCB8fCAwLFxyXG4gICAgICAgIHBheW1lbnRJZDogcmF6b3JwYXlfcGF5bWVudF9pZCxcclxuICAgICAgICBwYXltZW50U3RhdHVzOiBcIlNVQ0NFU1NcIixcclxuICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBkYXRhID0gcmVhZEpTT04ob3JkZXJzRmlsZSk7XHJcbiAgICAgIGRhdGEucHVzaChvcmRlcik7XHJcbiAgICAgIHdyaXRlSlNPTihvcmRlcnNGaWxlLCBkYXRhKTtcclxuXHJcbiAgICAgIC8vIFRyeSBzZW5kaW5nIGVtYWlsXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgc2VuZEVtYWlsKFxyXG4gICAgICAgICAgY3VzdG9tZXJFbWFpbCxcclxuICAgICAgICAgIFwiT3JkZXIgQ29uZmlybWF0aW9uXCIsXHJcbiAgICAgICAgICBgSGVsbG8gJHtjdXN0b21lck5hbWV9LFxcblxcbllvdXIgb3JkZXIgaGFzIGJlZW4gcGxhY2VkIHN1Y2Nlc3NmdWxseS5cXG5PcmRlciBJRDogJHtvcmRlci5pZH1cXG5Ub3RhbDog4oK5JHt0b3RhbEFtb3VudH1cXG5cXG5UaGFuayB5b3UgZm9yIHNob3BwaW5nIHdpdGggdXMhYFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVtYWlsIHNlbmQgZmFpbGVkOlwiLCBlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlcy5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiUGF5bWVudCB2ZXJpZmllZCAmIG9yZGVyIHNhdmVkXCIsXHJcbiAgICAgICAgb3JkZXIsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS53YXJuKFwi4p2MIEludmFsaWQgc2lnbmF0dXJlXCIsIHsgcmF6b3JwYXlfc2lnbmF0dXJlLCBleHBlY3RlZFNpZ24gfSk7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIHNpZ25hdHVyZVwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRXJyb3IgdmVyaWZ5aW5nIHBheW1lbnQ6XCIsIGVycik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogXCJQYXltZW50IHZlcmlmaWNhdGlvbiBmYWlsZWRcIixcclxuICAgICAgZXJyb3I6IGVyci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNRyxTQUFTLEdBQUdILE9BQU8sQ0FBQyxvQkFBb0IsQ0FB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","map":{"version":3,"names":["express","require","crypto","path","sendEmail","router","Router","post","req","res","razorpay_order_id","razorpay_payment_id","razorpay_signature","customerName","customerEmail","customerPhone","customerAddress","items","totalAmount","body","console","log","sign","expectedSign","createHmac","process","env","RAZORPAY_KEY_SECRET","update","toString","digest","order","id","Date","now","paymentId","paymentStatus","date","toLocaleString","data","readJSON","ordersFile","push","writeJSON","e","error","json","success","message","warn","status","err","module","exports"],"sourceRoot":"C:\\Users\\archa\\Music\\Developemnt\\dcfarm\\backend\\routes\\","sources":["paymentRoutes.js"],"sourcesContent":["// routes/paymentRoutes.js\r\nconst express = require(\"express\");\r\nconst crypto = require(\"crypto\");\r\nconst path = require(\"path\");\r\nconst sendEmail = require(\"../utils/sendEmail\");\r\n\r\nconst router = express.Router();\r\n\r\n// ✅ Verify payment\r\nrouter.post(\"/verify\", async (req, res) => {\r\n  try {\r\n    const {\r\n      razorpay_order_id,\r\n      razorpay_payment_id,\r\n      razorpay_signature,\r\n      customerName,\r\n      customerEmail,\r\n      customerPhone,\r\n      customerAddress,\r\n      items,\r\n      totalAmount,\r\n    } = req.body;\r\n\r\n    // Log incoming payload for debugging\r\n    console.log(\"➡️ Verify Payload:\", req.body);\r\n\r\n    const sign = razorpay_order_id + \"|\" + razorpay_payment_id;\r\n    const expectedSign = crypto\r\n      .createHmac(\"sha256\", process.env.RAZORPAY_KEY_SECRET)\r\n      .update(sign.toString())\r\n      .digest(\"hex\");\r\n\r\n    if (razorpay_signature === expectedSign) {\r\n      // ✅ Payment verified\r\n      const order = {\r\n        id: Date.now(),\r\n        customerName: customerName || \"Unknown\",\r\n        customerEmail: customerEmail || \"N/A\",\r\n        customerPhone: customerPhone || \"N/A\",\r\n        customerAddress: customerAddress || \"N/A\",\r\n        items: items || [],\r\n        totalAmount: totalAmount || 0,\r\n        paymentId: razorpay_payment_id,\r\n        paymentStatus: \"SUCCESS\",\r\n        date: new Date().toLocaleString(),\r\n      };\r\n\r\n      const data = readJSON(ordersFile);\r\n      data.push(order);\r\n      writeJSON(ordersFile, data);\r\n\r\n      // Try sending email\r\n      try {\r\n        await sendEmail(\r\n          customerEmail,\r\n          \"Order Confirmation\",\r\n          `Hello ${customerName},\\n\\nYour order has been placed successfully.\\nOrder ID: ${order.id}\\nTotal: ₹${totalAmount}\\n\\nThank you for shopping with us!`\r\n        );\r\n      } catch (e) {\r\n        console.error(\"❌ Email send failed:\", e);\r\n      }\r\n\r\n      return res.json({\r\n        success: true,\r\n        message: \"Payment verified & order saved\",\r\n        order,\r\n      });\r\n    } else {\r\n      console.warn(\"❌ Invalid signature\", { razorpay_signature, expectedSign });\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: \"Invalid signature\",\r\n      });\r\n    }\r\n  } catch (err) {\r\n    console.error(\"❌ Error verifying payment:\", err);\r\n    return res.status(500).json({\r\n      success: false,\r\n      message: \"Payment verification failed\",\r\n      error: err.message,\r\n    });\r\n  }\r\n});\r\n\r\n\r\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1757676662267}}